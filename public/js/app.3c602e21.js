(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0737":function(e,t,s){var a={"./0.jpg":"7d3a","./1.jpg":"8624","./10.jpg":"f23f","./11.jpg":"b8c5","./12.jpg":"8f78","./13.jpg":"4ece","./14.jpg":"88fd","./2.jpg":"974a","./3.jpg":"57b6","./4.jpg":"cdd5","./5.jpg":"3849","./6.jpg":"6823","./7.jpg":"8ce8","./8.jpg":"628b","./9.jpg":"c5f4"};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="0737"},1:function(e,t){},"249a":function(e,t,s){e.exports=s.p+"img/search-icon.636267a6.png"},3849:function(e,t,s){e.exports=s.p+"img/5.5e7e3f64.jpg"},"41f2":function(e,t,s){e.exports=s.p+"img/bg-img.48948499.jpg"},4678:function(e,t,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="4678"},"4ece":function(e,t,s){e.exports=s.p+"img/13.40c212a0.jpg"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.isLoginSignup?s("login-signup",{attrs:{isLogin:e.isLogin},on:{closed:function(t){e.isLoginSignup=!1,e.isLogin=!0}}}):e._e(),s("main-header",{on:{"login-signup":e.openLoginSignup}}),s("router-view",{staticClass:"view"})],1)},r=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-header"},[a("nav",{staticClass:"main-nav container"},[a("router-link",{staticClass:"logo-link",attrs:{to:"/"}},[a("div",{staticClass:"logo-container"},[a("h1",{staticClass:"main-title"},[e._v("tasky")]),a("img",{staticClass:"main-logo",attrs:{src:s("92e8")}})])]),a("div",{staticClass:"nav-links"},[e.isGuest?a("div",{staticClass:"login-btns"},[a("button",{staticClass:"login",on:{click:function(t){return e.$emit("login-signup")}}},[e._v("Login")]),a("button",{staticClass:"signup",on:{click:function(t){return e.$emit("login-signup",!0)}}},[e._v("Signup")])]):e._e(),e.loggedinUser?a("div",{staticClass:"user"},[a("router-link",{staticClass:"username",attrs:{to:"/user/"+e.loggedinUser._id}},[e._v("Dashboard")]),e.isGuest?e._e():a("button",{staticClass:"logout",on:{click:e.logout}},[e._v("Logout")])],1):e._e()])],1)])},o=[],c={computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},isGuest:function(){return!this.loggedinUser||this.loggedinUser.isGuest}},methods:{logout:function(){this.$store.dispatch({type:"logout"}),this.$store.dispatch({type:"getLoggedinUser"}),this.router.push("/")}}},l=c,u=s("2877"),d=Object(u["a"])(l,i,o,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"div-screen",on:{click:function(t){return e.$emit("closed")}}}),s("section",{staticClass:"login-signup"},[e.isLoginPage?s("div",{staticClass:"page"},[s("header",[s("h2",[e._v("Login to your account")]),s("button",{staticClass:"close-btn",on:{click:function(t){return e.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})])]),s("hr"),s("form",{staticClass:"login-form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCredentials.email,expression:"loginCredentials.email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:e.loginCredentials.email},on:{input:function(t){t.target.composing||e.$set(e.loginCredentials,"email",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCredentials.password,expression:"loginCredentials.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.loginCredentials.password},on:{input:function(t){t.target.composing||e.$set(e.loginCredentials,"password",t.target.value)}}}),s("button",{staticClass:"send-btn save-btn"},[e._v("Login")])]),s("div",{staticClass:"switch"},[e._v(" New ? "),s("button",{on:{click:function(t){e.isLoginPage=!1}}},[e._v("Create new account")])])]):s("div",{staticClass:"page"},[s("header",[s("h2",[e._v("Singup for FREE collaboration with other peoples")]),s("button",{staticClass:"close-btn",on:{click:function(t){return e.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})])]),s("hr"),s("form",{staticClass:"signup-form",on:{submit:function(t){return t.preventDefault(),e.signup(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCredentials.username,expression:"newCredentials.username"}],attrs:{type:"text",placeholder:"Full name",required:""},domProps:{value:e.newCredentials.username},on:{input:function(t){t.target.composing||e.$set(e.newCredentials,"username",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCredentials.email,expression:"newCredentials.email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:e.newCredentials.email},on:{input:function(t){t.target.composing||e.$set(e.newCredentials,"email",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCredentials.password,expression:"newCredentials.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.newCredentials.password},on:{input:function(t){t.target.composing||e.$set(e.newCredentials,"password",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",placeholder:"Confirm your password",required:""},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),s("button",{staticClass:"send-btn save-btn"},[e._v("Signup")])]),s("div",{staticClass:"switch"},[e._v(" Already have a user ? "),s("button",{on:{click:function(t){e.isLoginPage=!0}}},[e._v("Login")])])])])])},f=[],h=(s("96cf"),s("1da1")),v={data:function(){return{isLoginPage:!0,loginCredentials:{email:"",password:""},newCredentials:{email:"",username:"",password:""},confirmPassword:""}},methods:{login:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"login",credentials:e.loginCredentials});case 3:console.log("Logged in sucessfully"),e.$emit("closed"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("Try again");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},signup:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newCredentials.email.length&&e.newCredentials.password.length){t.next=3;break}return e.$emit("closed"),t.abrupt("return");case 3:if(e.newCredentials.password!==e.confirmPassword){t.next=10;break}return t.next=6,e.$store.dispatch({type:"signup",credentials:e.newCredentials});case 6:console.log("Signed up"),e.$emit("closed"),t.next=11;break;case 10:console.log("Wrong confirm password");case 11:case"end":return t.stop()}}),t)})))()},closeWindow:function(){this.$store.commit({type:"closeWindow"})}},created:function(){this.isLoginPage=this.isLogin},props:{isLogin:Boolean}},g=v,k=Object(u["a"])(g,m,f,!1,null,null,null),b=k.exports,C={data:function(){return{isLoginSignup:!1,isLogin:!0}},methods:{openLoginSignup:function(e){e&&(this.isLogin=!1),this.isLoginSignup=!0}},created:function(){this.$store.dispatch({type:"getLoggedinUser"})},components:{mainHeader:p,loginSignup:b}},w=C,y=Object(u["a"])(w,n,r,!1,null,null,null),_=y.exports,x=s("9483");Object(x["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var T=s("8c4f"),O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"home-page"},[s("div",{staticClass:"hero"},[s("div",{staticClass:"cta-hero"},[s("p",{staticClass:"hero-txt"},[e._v("Boost your team's productivity with real-time sharable workspace.")]),s("router-link",{staticClass:"cta-board-btn",attrs:{to:"/board/5e7a6b94152ac30558217046"}},[e._v("Try tasky now")])],1)]),e._m(0)])},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"features-main container"},[a("div",{staticClass:"intro"},[a("h3",[e._v("The power of the internet is here")])]),a("div",{staticClass:"features-container"},[a("div",{staticClass:"feature-main websocket"},[a("img",{attrs:{src:s("b1b2")}}),a("div",{staticClass:"feature-info"},[a("h2",[e._v("Web Sockets")]),a("p",[e._v("With the power of web sockets, you and your team can enjoy a workspace that updates in real-time, keeping everyone synced and up to date.")])])]),a("div",{staticClass:"feature-main dnd"},[a("div",{staticClass:"feature-info"},[a("h2",[e._v("Drag n Drop!")]),a("p",[e._v("Try our Drag n Drop technology to easily move & update your tasks with your mouse or finger.")])]),a("img",{attrs:{src:s("62ed")}})]),a("div",{staticClass:"feature-main customize"},[a("img",{attrs:{src:s("daea")}}),a("div",{staticClass:"feature-info"},[a("h2",[e._v("Make it yours.")]),a("p",[e._v("Make it feel like home for you and your team. Customize the board's appearance, Organize your lists to fit the team's flow.")])])])])])}],L={},$=L,M=Object(u["a"])($,O,j,!1,null,null,null),B=M.exports,I=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"about-page"},[s("h1",[e._v("About-Page")])])}],D={},E=D,N=Object(u["a"])(E,I,S,!1,null,null,null),P=N.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loggedinUser?s("section",{staticClass:"dasboard-page"},[s("header",[e._m(0),s("h2",{staticClass:"title"},[e._v("My Boards")]),s("div",{staticClass:"hello center-flex"},[e._v("Hello "+e._s(e.loggedinUser.username))])]),s("section",{staticClass:"boards"},[e._l(e.loggedinUser.boards,(function(e){return s("board-preview",{attrs:{board:e}})})),s("button",{staticClass:"new-board-btn",on:{click:function(t){e.isCreate=!0}}},[e._v("Create new board")]),e.isCreate?s("create-board",{on:{"board-created":e.createBoard,closed:function(t){e.isCreate=!1}}}):e._e()],2)]):e._e()},J=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-star"})])}],A=(s("b0c0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"board-preview",style:{background:e.board.style.background},on:{click:function(t){return e.$router.push("/board/"+e.board._id)}}},[s("h3",{staticClass:"name"},[e._v(e._s(e.board.name))])])}),U=[],z={props:{board:Object}},q=z,F=Object(u["a"])(q,A,U,!1,null,null,null),H=F.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"div-screen",on:{click:function(t){return e.$emit("closed")}}}),s("section",{ref:"createCmp",staticClass:"create-board",style:{background:e.newBoard.style.background}},[s("form",{on:{submit:function(t){return t.preventDefault(),e.createBoard(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newBoard.name,expression:"newBoard.name"}],attrs:{placeholder:"Board title..",type:"text"},domProps:{value:e.newBoard.name},on:{input:function(t){t.target.composing||e.$set(e.newBoard,"name",t.target.value)}}}),s("button",{staticClass:"save-btn"},[e._v("Create board")])]),s("button",{staticClass:"set-style-btn save-btn",on:{click:function(t){e.isColorOpen=!e.isColorOpen,e.isImgOpen=!1}}},[e._v("Background color")]),s("button",{staticClass:"set-style-btn save-btn",on:{click:function(t){e.isImgOpen=!e.isImgOpen,e.isColorOpen=!1}}},[e._v("Background image")]),e.isImgOpen?s("board-img-picker",{on:{closed:function(t){e.isImgOpen=!1},"set-board-img":e.setBg}}):e._e(),e.isColorOpen?s("board-color-picker",{on:{"set-board-color":e.setBg,closed:function(t){e.isImgOpen=!1}}}):e._e()],1)])},W=[],K=(s("99af"),s("bc3a")),Q=s.n(K),V=Q.a.create({withCredentials:!0}),X="/api/",Y={get:function(e,t){return Z(e,"GET",t)},post:function(e,t){return Z(e,"POST",t)},put:function(e,t){return Z(e,"PUT",t)},delete:function(e,t){return Z(e,"DELETE",t)}};function Z(e){return ee.apply(this,arguments)}function ee(){return ee=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s,a,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",a=i.length>2&&void 0!==i[2]?i[2]:null,e.prev=2,n={url:"".concat(X).concat(t),method:s},"get"===s||"GET"===s?n.params={data:a}:n.data=a,e.next=7,V(n);case 7:return r=e.sent,e.abrupt("return",r.data);case 11:if(e.prev=11,e.t0=e["catch"](2),401!==e.t0.response.status){e.next=16;break}throw console.log("Unautonticated"),new Error("Unautonticated");case 16:case"end":return e.stop()}}),e,null,[[2,11]])}))),ee.apply(this,arguments)}s("a434");var te=s("2909"),se={getRandom:ne,makeLorem:de,makeId:re,createWord:fe,getHoursDifference:me,getRandomColor:pe,scrollTo:ge,getEmptyChecklist:oe,getEmptyTodo:ce,getEmptyComment:le,applyDrag:ie,expandTextArea:ue},ae=[];function ne(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function re(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}function ie(e,t){var s=t.removedIndex,a=t.addedIndex,n=t.payload;if(null===s&&null===a)return e;var r=Object(te["a"])(e),i=n;return null!==s&&(i=r.splice(s,1)[0]),null!==a&&r.splice(a,0,i),r}function oe(){return{id:re(),title:"Checklist",todos:[]}}function ce(){return{id:re(),txt:"",isDone:!1}}function le(){return{id:re(),from:null,txt:"",createdAt:Date.now(),imgUrl:null}}function ue(e){var t=200;e.style.height="",e.style.height=Math.min(e.scrollHeight,t)+"px"}function de(e){var t="";while(t.length<e){var s=ae[ne(1,28)];t+=s+" "}return t=t[0].toUpperCase()+t.substr(1),t}function pe(){for(var e="0123456789ABCDEF",t="#",s=0;s<6;s++)t+=e[Math.floor(16*Math.random())];return t}function me(e){var t=Date.now(),s=(e-t)/1e3,a=Math.floor(s/3600);return a}function fe(e){var t="";while(t.length<e){var s=he();t+=s}return t}function he(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}function ve(){ae[1]="escapology",ae[2]="brightwork",ae[3]="verkrampte",ae[4]="protectrix",ae[5]="nudibranch",ae[6]="grandchild",ae[7]="newfangled",ae[8]="flugelhorn",ae[9]="mythologer",ae[10]="pluperfect",ae[11]="jellygraph",ae[12]="quickthorn",ae[13]="rottweiler",ae[14]="technician",ae[15]="cowpuncher",ae[16]="middlebrow",ae[17]="jackhammer",ae[18]="triphthong",ae[19]="wunderkind",ae[20]="dazzlement",ae[21]="jabberwock",ae[22]="witchcraft",ae[23]="pawnbroker",ae[24]="thumbprint",ae[25]="motorcycle",ae[26]="cryptogram",ae[27]="torchlight",ae[28]="bankruptcy"}function ge(e,t,s){var a=e.scrollLeft;if(!(0===a||t>0)||!(e.clientWidth+a===e.scrollWidth||t<0)){var n=function n(i){var o=i-r,c=Math.min(o/s,1);e.scrollLeft=a+t*c,o<s&&window.requestAnimationFrame(n)},r="now"in window.performance?performance.now():(new Date).getTime();window.requestAnimationFrame(n)}}ve();var ke="board",be={query:Ce,getById:we,remove:ye,save:_e,getEmptyBoard:xe,getEmptyList:Te,getEmptyTask:Oe};function Ce(e){return Y.get(ke,e)}function we(e){return Y.get("".concat(ke,"/").concat(e))}function ye(e){return Y.delete("".concat(ke,"/").concat(e))}function _e(e){return e._id?Y.put("".concat(ke,"/").concat(e._id),e):Y.post("".concat(ke),e)}function xe(){return{name:"",style:{background:"url(/img/1.d168fb79.jpg)"},activities:[],members:[],labels:[{color:"#61bd4f",txt:"",id:se.makeId(7)},{color:"#f2d600",txt:"",id:se.makeId(7)},{color:"#ff9f1a",txt:"",id:se.makeId(7)},{color:"#eb5a46",txt:"",id:se.makeId(7)},{color:"#c377e0",txt:"",id:se.makeId(7)},{color:"#0079bf",txt:"",id:se.makeId(7)},{color:"#00c2e0",txt:"",id:se.makeId(7)}],taskLists:[{id:se.makeId(7),name:"Planning",tasks:[]},{id:se.makeId(7),name:"In Progress",tasks:[]},{id:se.makeId(7),name:"Done",tasks:[]}]}}function Te(){return{id:se.makeId(7),name:"",tasks:[]}}function Oe(){return{id:se.makeId(7),name:"",style:{bgColor:"default",color:"default"},members:[],labels:[],dueDate:{time:null,isCompleted:null},desc:"",attachments:[],checklist:null,comments:[]}}var je,Le=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-color-picker"},[s("button",{staticClass:"close-btn",on:{click:function(t){return t.stopPropagation(),e.goBack(t)}}},[s("i",{staticClass:"fas fa-arrow-left"})]),s("div",{staticClass:"colors-container"},[s("div",{staticClass:"color-card",style:{"background-color":"#0079bf"},on:{click:function(t){return e.setBoardColor("#0079bf")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#d29034"},on:{click:function(t){return e.setBoardColor("#d29034")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#519839"},on:{click:function(t){return e.setBoardColor("#519839")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#b04632"},on:{click:function(t){return e.setBoardColor("#b04632")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#89609e"},on:{click:function(t){return e.setBoardColor("#89609e")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#cd5a91"},on:{click:function(t){return e.setBoardColor("#cd5a91")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#4bbf6b"},on:{click:function(t){return e.setBoardColor("#4bbf6b")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#00aecc"},on:{click:function(t){return e.setBoardColor("#00aecc")}}})])])},$e=[],Me={methods:{goBack:function(){this.$emit("closed")},setBoardColor:function(e){this.$emit("set-board-color",e)}}},Be=Me,Ie=Object(u["a"])(Be,Le,$e,!1,null,null,null),Se=Ie.exports,De=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-img-picker"},[s("div",{staticClass:"img-container"},e._l(14,(function(t,a){return s("img",{staticClass:"img-card",attrs:{src:e.getImgUrl(a)},on:{click:function(t){return e.setBoardImage(a)}}})})),0),s("button",{staticClass:"close-btn",on:{click:function(t){return t.stopPropagation(),e.goBack(t)}}},[s("i",{staticClass:"fas fa-arrow-left"})])])},Ee=[],Ne={methods:{goBack:function(){this.$emit("closed")},getImgUrl:function(e){return s("0737")("./".concat(e,".jpg"))},setBoardImage:function(e){var t="url("+this.getImgUrl(e)+")";this.$emit("set-board-img",t)}}},Pe=Ne,Re=Object(u["a"])(Pe,De,Ee,!1,null,null,null),Je=Re.exports,Ae={data:function(){return{newBoard:null,isColorOpen:!1,isImgOpen:!1}},methods:{setBg:function(e){console.log(e),this.newBoard.style.background=e,this.$refs.createCmp.style["background"]=e},createBoard:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newBoard.name.length){t.next=2;break}return t.abrupt("return");case 2:return e.newBoard.members.push(e.$store.getters.loggedinUser),t.next=5,e.$store.dispatch({type:"createBoard",board:e.newBoard});case 5:s=t.sent,e.$emit("board-created",s),e.newBoard=be.getEmptyBoard();case 8:case"end":return t.stop()}}),t)})))()}},created:function(){this.newBoard=be.getEmptyBoard()},components:{boardColorPicker:Se,boardImgPicker:Je}},Ue=Ae,ze=Object(u["a"])(Ue,G,W,!1,null,null,null),qe=ze.exports,Fe={data:function(){return{newBoard:null,userCopy:null,isCreate:!1}},methods:{createBoard:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={_id:e._id,name:e.name,style:e.style},t.userCopy.boards.push(a),s.next=4,t.$store.dispatch({type:"updateUser",user:t.userCopy});case 4:n=s.sent,t.userCopy=JSON.parse(JSON.stringify(n)),t.isCreate=!1;case 7:case"end":return s.stop()}}),s)})))()}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){var e=this;Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"getLoggedinUser"});case 2:e.userCopy=JSON.parse(JSON.stringify(e.loggedinUser));case 3:case"end":return t.stop()}}),t)})))()},components:{boardPreview:H,createBoard:qe}},He=Fe,Ge=Object(u["a"])(He,R,J,!1,null,null,null),We=Ge.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.board?s("main",{staticClass:"board-app",style:{background:e.storeBoard.style.background}},[s("board-header",{on:{"update-style":e.updateStyle}}),s("div",{ref:"lists",staticClass:"lists-container"},[s("Container",{attrs:{"drag-handle-selector":".list-header",orientation:"horizontal","drop-placeholder":e.placeholderOpts,"drag-class":"list-dragging","drop-class":"list-dropping"},on:{drop:e.onDrop}},[e._l(e.taskLists,(function(t,a){return s("Draggable",{key:t.id},[t?s("task-list",{key:t.id,attrs:{taskList:t,listIdx:a},on:{"save-list":e.saveTaskList,"save-lists-order":e.saveListsOrder,"list-moved":e.moveList}}):e._e()],1)})),s("section",{staticClass:"add-list"},[s("transition",{attrs:{name:"fade"}},[e.newTaskList?e._e():s("button",{staticClass:"add-list-btn",on:{click:e.getEmptyList}},[s("i",{staticClass:"fas fa-plus plus-icon"}),e._v(" Add List ")])]),s("transition",{attrs:{name:"fade"}},[e.newTaskList?s("form",{staticClass:"add-list",on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.isListSaved=!1},submit:function(t){return t.preventDefault(),e.addList(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newTaskList.name,expression:"newTaskList.name"}],ref:"listInput",staticClass:"add-list-input",attrs:{type:"text",placeholder:"List title.."},domProps:{value:e.newTaskList.name},on:{blur:e.blurAddList,input:function(t){t.target.composing||e.$set(e.newTaskList,"name",t.target.value)}}}),s("div",{staticClass:"btns"},[s("button",{ref:"addListBtn",staticClass:"add-list-inner-btn"},[e._v("Add")]),s("button",{staticClass:"close-btn",on:{click:function(t){e.newTaskList=null}}},[s("i",{staticClass:"fas fa-times"})])])]):e._e()])],1)],2)],1),!e.isTaskLoad&&e.isTaskDetailsOpen?s("task-details",{on:{"move-task":e.moveTask}}):e._e()],1):e._e()},Qe=[],Ve=(s("7db0"),s("c740"),s("4160"),s("d81d"),s("159b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"board-header"},[s("div",{staticClass:"board-data-container"},[s("span",{staticClass:"board-name"},[e._v(e._s(e.currBoard.name))])]),s("div",{staticClass:"members"},e._l(e.currBoard.members,(function(e){return s("user-avatar",{attrs:{user:e}})})),1),s("div",{staticClass:"board-nav"},[s("button",{staticClass:"menu-btn",on:{click:function(t){e.isInvite=!e.isInvite}}},[s("i",{staticClass:"fas fa-user-plus"})]),s("button",{staticClass:"menu-btn",on:{click:e.toggleMenu}},[s("i",{staticClass:"fas fa-bars"})])]),e.isInvite?s("invite-members",{on:{closed:function(t){e.isInvite=!1}}}):e._e(),s("boardMenu",{class:e.openMenuClass,on:{closed:function(t){e.isMenuOpen=!1},"update-style":e.updateStyle}})],1)}),Xe=[],Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("menu",{staticClass:"board-menu"},[e._m(0),e.isMenuOpen.main?s("div",{staticClass:"menu"},[s("button",{staticClass:"menu-btn",on:{click:function(t){return e.openMenu("boardStyle")}}},[s("i",{staticClass:"far fa-image btn-icon"}),s("span",{staticClass:"btn-txt"},[e._v("Board Styling")])]),s("button",{staticClass:"menu-btn",on:{click:function(t){return e.openMenu("statistic")}}},[s("i",{staticClass:"fas fa-chart-line btn-icon"}),s("span",{staticClass:"btn-txt"},[e._v("Show Board Stats")])]),e._m(1)]):e._e(),e.isMenuOpen.boardStyle?s("boardStyleMenu",{on:{closed:function(t){return e.closeMenu("boardStyle")},"update-style":e.updateStyle}}):e._e(),e.isMenuOpen.statistic?s("boardStatistic",{on:{closed:function(t){return e.closeMenu("statistic")},"update-style":e.updateStyle}}):e._e(),e.isMenuOpen.main?s("button",{staticClass:"close-btn",on:{click:e.goBack}},[s("i",{staticClass:"fas fa-times"})]):e._e()],1)},Ze=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu-header"},[s("span",[e._v("Menu")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"activities"},[s("span",{staticClass:"title"},[e._v("Activities")])])}],et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-style-menu"},[e.isMenuOpen.main?s("div",[s("div",{staticClass:"btn color-picker-btn center-flex",style:{backgroundImage:e.bgColorImg()},on:{click:e.openColorPicker}},[s("h3",{staticClass:"txt-btn"},[e._v("Colors")])]),s("div",{staticClass:"btn img-picker-btn center-flex",style:{backgroundImage:e.bgImg()},on:{click:e.openImgPicker}},[s("h3",{staticClass:"txt-btn"},[e._v("Images")])])]):e._e(),e.isMenuOpen.colorPicker?s("boardColorPicker",{on:{closed:e.closeColorPicker,"set-board-color":e.updateStyle}}):e._e(),e.isMenuOpen.imgPicker?s("boardImgPicker",{on:{closed:e.closeImgPicker,"set-board-img":e.updateStyle}}):e._e(),e.isMenuOpen.main?s("button",{staticClass:"close-btn",on:{click:e.goBack}},[s("i",{staticClass:"fas fa-arrow-left"})]):e._e()],1)},tt=[],st={data:function(){return{isMenuOpen:{main:!0,colorPicker:!1,imgPicker:!1}}},methods:{bgColorImg:function(){return"url("+s("a9c4")+")"},bgImg:function(){return"url("+s("41f2")+")"},openColorPicker:function(){this.isMenuOpen.main=!1,this.isMenuOpen.colorPicker=!0},closeColorPicker:function(){this.isMenuOpen.main=!0,this.isMenuOpen.colorPicker=!1},openImgPicker:function(){this.isMenuOpen.main=!1,this.isMenuOpen.imgPicker=!0},closeImgPicker:function(){this.isMenuOpen.imgPicker=!1,this.isMenuOpen.main=!0},goBack:function(){this.$emit("closed")},updateStyle:function(e){this.$emit("update-style",e)}},components:{boardColorPicker:Se,boardImgPicker:Je}},at=st,nt=Object(u["a"])(at,et,tt,!1,null,null,null),rt=nt.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"board-statistic"},[s("button",{staticClass:"close-btn",on:{click:e.goBack}},[s("i",{staticClass:"fas fa-arrow-left"})])])},ot=[],ct={methods:{goBack:function(){this.$emit("closed")}}},lt=ct,ut=Object(u["a"])(lt,it,ot,!1,null,null,null),dt=ut.exports,pt={data:function(){return{isMenuOpen:{main:!0,boardStyle:!1,statistic:!1}}},methods:{openMenu:function(e){this.isMenuOpen.main=!1,this.isMenuOpen[e]=!0},closeMenu:function(e){this.isMenuOpen[e]=!1,this.isMenuOpen.main=!0},updateStyle:function(e){this.$emit("update-style",e)},goBack:function(){this.$emit("closed")}},components:{boardStyleMenu:rt,boardStatistic:dt}},mt=pt,ft=Object(u["a"])(mt,Ye,Ze,!1,null,null,null),ht=ft.exports,vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"invite-members"},[s("header",[e._m(0),s("div",{staticClass:"close-btn",on:{click:function(t){return e.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchStr,expression:"searchStr"}],staticClass:"search",style:{background:e.searchIcon},attrs:{placeholder:"User name or email",type:"text"},domProps:{value:e.searchStr},on:{input:[function(t){t.target.composing||(e.searchStr=t.target.value)},e.searchUsers]}}),s("div",{staticClass:"members-container"},e._l(e.searchRes,(function(t){return s("div",{staticClass:"member",on:{click:function(s){return e.addMember(t)}}},[s("user-avatar",{attrs:{user:t}}),s("div",{staticClass:"name"},[e._v(e._s(t.username))])],1)})),0)])},gt=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("i",{staticClass:"fas fa-user-plus"}),e._v(" Invite members")])}],kt=(s("4de4"),new a["default"]),bt="remove-list",Ct="move-task-event",wt="add-board-member",yt="remove-board-member",_t="update-board-labels",xt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"avatar"},[s("div",{staticClass:"user-avatar center-flex",style:{background:e.background}},[e._v(" "+e._s(e.avatarTxt)+" ")]),s("img",{staticClass:"remove-img",attrs:{src:e.imgUrl,alt:""},on:{click:function(t){return e.removeMember(e.user._id)}}})])},Tt=[],Ot=(s("fb6a"),{methods:{removeMember:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$store.dispatch({type:"loadUsers"});case 2:if(a=s.sent,n=a.find((function(t){return t._id===e})),console.log(e),n){s.next=7;break}return s.abrupt("return");case 7:r=n.boards.findIndex((function(e){return e._id===t.$store.getters.currBoard._id})),n.boards.splice(r,1),t.$store.dispatch({type:"updateUser",user:n}),kt.$emit(yt,e);case 11:case"end":return s.stop()}}),s)})))()}},computed:{avatarTxt:function(){return this.user.imgUrl?"":this.user.username.slice(0,1).toUpperCase()},background:function(){return this.user.imgUrl?this.user.imgUrl:this.user.avatarColor?this.user.avatarColor:se.getRandomColor()},imgUrl:function(){return s("5e54")}},props:{user:Object}}),jt=Ot,Lt=Object(u["a"])(jt,xt,Tt,!1,null,null,null),$t=Lt.exports,Mt={data:function(){return{searchStr:"",searchRes:""}},methods:{searchUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"loadUsers",searchStr:e.searchStr});case 2:s=t.sent,a=s.filter((function(t){if(!t.boards)return!1;var s=t.boards.find((function(t){return t._id===e.$store.getters.currBoard._id}));return!s})),console.log(a),e.searchRes=a;case 6:case"end":return t.stop()}}),t)})))()},addMember:function(e){kt.$emit(wt,e);var t=this.searchRes.findIndex((function(t){return t._id===e._id}));this.searchRes.splice(t,1);var s=JSON.parse(JSON.stringify(e));s.boards.push({_id:this.currBoard._id,style:this.currBoard.style,name:this.currBoard.name}),this.$store.dispatch({type:"updateUser",user:s})}},computed:{currBoard:function(){return this.$store.getters.currBoard},searchIcon:function(){return s("249a")}},watch:{"currBoard.members":function(e,t){this.searchUsers()}},created:function(){this.searchUsers()},components:{userAvatar:$t}},Bt=Mt,It=Object(u["a"])(Bt,vt,gt,!1,null,null,null),St=It.exports,Dt={data:function(){return{isMenuOpen:!1,isInvite:!1}},computed:{currBoard:function(){return this.$store.getters.currBoard},openMenuClass:function(){return this.isMenuOpen?"open-menu":""}},methods:{toggleMenu:function(){this.isMenuOpen=!this.isMenuOpen},updateStyle:function(e){this.$emit("update-style",e)}},components:{boardMenu:ht,inviteMembers:St,userAvatar:$t}},Et=Dt,Nt=Object(u["a"])(Et,Ve,Xe,!1,null,null,null),Pt=Nt.exports,Rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.taskList?s("section",{staticClass:"task-list"},[e.isEditName?s("section",{staticClass:"edit-list-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.listCopy.name,expression:"listCopy.name"}],ref:"listNameInput",staticClass:"list-input",attrs:{type:"text",draggable:"false"},domProps:{value:e.listCopy.name},on:{click:function(t){e.isEditName=!0},change:e.saveListName,blur:e.saveListName,input:function(t){t.target.composing||e.$set(e.listCopy,"name",t.target.value)}}}),s("button",{staticClass:"list-menu-btn",on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[s("i",{staticClass:"menu-icon fas fa-ellipsis-h"})]),e.isMenuOpen?s("div",{staticClass:"screen-trans",on:{click:function(t){e.isMenuOpen=!1}}}):e._e(),e.isMenuOpen?s("list-menu",{attrs:{listId:e.taskList.id},on:{"add-task":e.getEmptyTask,"list-moved":e.moveList,clicked:function(t){e.isMenuOpen=!1}}}):e._e()],1):s("header",{staticClass:"list-header"},[e.isEditName?e._e():s("h3",{staticClass:"list-name",on:{click:e.editListName}},[e._v(e._s(e.taskList.name))]),s("button",{staticClass:"list-menu-btn",on:{click:function(t){e.isMenuOpen=!e.isMenuOpen}}},[s("i",{staticClass:"menu-icon fas fa-ellipsis-h"})]),e.isMenuOpen?s("list-menu",{attrs:{listId:e.taskList.id},on:{"add-task":function(t){e.getEmptyTask(),e.isMenuOpen=!1},"list-moved":e.moveList,clicked:function(t){e.isMenuOpen=!1}}}):e._e()],1),s("main",{ref:"tasks",staticClass:"tasks",attrs:{id:e.taskList.id}},[s("Container",{attrs:{"group-name":"tasks","drag-handle-selector":".task-preview","get-child-payload":e.getTaskPayload(e.taskList.id),"drag-class":"task-dragging","drop-class":"task-dropping"},on:{drop:e.onDrop}},e._l(e.tasks,(function(t){return s("Draggable",{key:t.id,staticClass:"preview-wrapper"},[s("task-preview",{attrs:{task:t,listId:e.taskList.id,elTasks:e.$refs.tasks},on:{"remove-task":e.removeTask,"update-task":e.saveTask}})],1)})),1),s("transition",{attrs:{name:"fade"}},[e.newTask?s("form",{staticClass:"add-task",on:{submit:function(t){return t.preventDefault(),e.addTask(t)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTask.name,expression:"newTask.name"}],ref:"taskInput",staticClass:"new-task-box",attrs:{cols:"30",rows:"3",placeholder:"Task name"},domProps:{value:e.newTask.name},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addTask(t))},blur:e.blurTask,input:function(t){t.target.composing||e.$set(e.newTask,"name",t.target.value)}}}),s("button",{ref:"addTaskBtn",attrs:{hidden:""}},[e._v("Add")])]):e._e()])],1),s("footer",[e.newTask?s("section",{staticClass:"new-task-btns"},[s("button",{ref:"sendTaskForm",staticClass:"add-task-btn inner",on:{click:function(t){return e.$refs.addTaskBtn.click()}}},[e._v("Add")]),s("button",{staticClass:"close-btn",on:{click:function(t){t.preventDefault(),e.newTask=null}}},[s("i",{staticClass:"fas fa-times"})])]):s("button",{staticClass:"add-task-btn",on:{click:e.getEmptyTask}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add Task ")])])]):e._e()},Jt=[],At=(s("a9e3"),s("d3b7"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[e.isMenuOpen?s("task-menu",{attrs:{task:e.task,listId:e.listId,menu:e.$refs.pMenuBtn,isScroll:e.isScroll},on:{"remove-task":function(t){return e.$emit("remove-task",e.task.id)},"set-labels":e.updateTask,"set-name":e.updateTask,"set-due-date":e.updateTask,clicked:e.closeMenu,closed:function(t){e.isMenuOpen=!1}},nativeOn:{click:function(e){e.stopPropagation()}}}):e._e(),s("section",{staticClass:"task-preview",on:{click:e.taskDetailsPage}},[s("button",{ref:"pMenuBtn",staticClass:"preview-menu-btn",on:{click:e.openMenu}},[s("i",{staticClass:"fas fa-pencil-alt"})]),s("label-preview",{attrs:{labels:e.task.labels}}),e.task.attachments.length?s("img",{staticClass:"preview-img",attrs:{src:e.task.attachments[0]}}):e._e(),s("p",{staticClass:"preview-title"},[e._v(e._s(e.task.name))]),s("dataIndicationPreview",{attrs:{task:e.task}})],1)],1)}),Ut=[],zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"label-preview"},e._l(e.labels,(function(t){return s("div",{staticClass:"label-card",class:e.labelClass,style:{"background-color":t.color},on:{click:function(t){return t.stopPropagation(),e.toggleMini(t)}}},[e._v(" "+e._s(e.labelText(t))+" ")])})),0)},qt=[],Ft={methods:{toggleMini:function(){this.$store.commit({type:"toggleMiniLabals"})},labelText:function(e){return this.isMini?"":e.txt}},computed:{isMini:function(){return this.$store.getters.isLabelsMini},labelClass:function(){return this.isMini?"mini-label":""}},props:{labels:Array}},Ht=Ft,Gt=Object(u["a"])(Ht,zt,qt,!1,null,null,null),Wt=Gt.exports,Kt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isDataIndication?s("div",{staticClass:"preview-data"},[s("section",{staticClass:"preview-indications"},[e.task.dueDate.time?s("due-date-preview",{staticClass:"preview-due-date",attrs:{dueDate:e.task.dueDate}}):e._e(),e.task.desc?s("div",{staticClass:"preview-desc"},[s("i",{staticClass:"fas fa-align-left"})]):e._e(),e.task.comments.length?s("div",{staticClass:"preview-comments"},[s("i",{staticClass:"far fa-comment"}),e._v(" "+e._s(e.task.comments.length)+" ")]):e._e(),e.task.checklist?s("div",{staticClass:"preview-check-list"},[s("i",{staticClass:"far fa-check-square"}),s("span",{staticClass:"check-list-txt"},[e._v(e._s(e.checklistStatus))])]):e._e(),e.task.attachments.length?s("div",{staticClass:"preview-attachments"},[s("i",{staticClass:"fas fa-paperclip"}),e._v(" "+e._s(e.task.attachments.length)+" ")]):e._e()],1),e.task.members.length?s("section",{staticClass:"preview-members"},[s("member-preview",{attrs:{members:e.task.members}})],1):e._e()]):e._e()},Qt=[],Vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"member-preview"},e._l(e.members,(function(t){return s("div",{key:t._id,staticClass:"member-card",on:{click:function(s){return s.stopPropagation(),e.selectMember(t)}}},[s("div",{staticClass:"member-card-name"},[e._v(e._s(t.fullName.charAt(0)))])])})),0)},Xt=[],Yt={methods:{selectMember:function(e){console.log("Member selected:",e.fullName)}},props:{members:Array}},Zt=Yt,es=Object(u["a"])(Zt,Vt,Xt,!1,null,null,null),ts=es.exports,ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"due-date-preview-container",style:{"background-color":this.bgColor,color:this.color}},[s("div",{staticClass:"due-date-preview center-flex"},[e.dueDate.isCompleted?s("span",[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"due-date-txt"},[e._v("Done")])]):s("span",[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"due-date-txt"},[e._v(e._s(e._f("minimalDate")(this.dueDate.time)))])])])])},as=[],ns={computed:{bgColor:function(){if(this.dueDate.isCompleted)return"#61bd4f";var e=this.hourfLeft,t=e<0?"#eb5a46":e<5?"#ff9f1a":e<48?"#f2d600":"transparent";return t},color:function(){return this.hourfLeft>48?"inherit":"#fff"},hourfLeft:function(){return se.getHoursDifference(this.dueDate.time)}},props:{dueDate:Object}},rs=ns,is=Object(u["a"])(rs,ss,as,!1,null,null,null),os=is.exports,cs={computed:{checklistStatus:function(){var e=this.task.checklist.todos,t=e.filter((function(e){return e.isDone})).length,s=e.length;return t+"/"+s},isDataIndication:function(){var e=this.task;return e.dueDate.time||e.desc||e.comments.length||e.attachments.length||e.checklist||e.members.length}},components:{memberPreview:ts,dueDatePreview:os},props:{task:Object}},ls=cs,us=Object(u["a"])(ls,Kt,Qt,!1,null,null,null),ds=us.exports,ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"div-screen",on:{click:function(t){t.stopPropagation(),e.$emit("clicked",e.taskCopy),e.updateCopy()}}}),e.task?s("section",{ref:"taskMenu",staticClass:"task-menu"},[s("div",{staticClass:"card-container"},[s("div",{staticClass:"card-details"},[s("label-preview",{attrs:{labels:e.task.labels}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.taskCopy.name,expression:"taskCopy.name"}],ref:"editTaskName",staticClass:"task-name",attrs:{type:"text"},domProps:{value:e.taskCopy.name},on:{input:[function(t){t.target.composing||e.$set(e.taskCopy,"name",t.target.value)},e.expand]}}),s("data-indication-preview",{attrs:{task:e.task}})],1),s("button",{staticClass:"save-name-btn",on:{click:function(t){return t.stopPropagation(),e.setName(t)}}},[e._v("Save")])]),s("menu",{staticClass:"editor-buttons",class:e.btnsClass},[s("button",{staticClass:"task-menu-item",on:{click:function(t){t.stopPropagation(),e.isMenuOpen.label=!e.isMenuOpen.label}}},[s("i",{staticClass:"fas fa-tag"}),s("span",{staticClass:"menu-btn-txt"},[e._v("Labels")])]),s("button",{staticClass:"task-menu-item",on:{click:function(t){t.stopPropagation(),e.isMenuOpen.move=!e.isMenuOpen.move}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"}),s("span",{staticClass:"menu-btn-txt"},[e._v("Move")])]),s("button",{staticClass:"task-menu-item",on:{click:function(t){return t.stopPropagation(),e.openDueDate(t)}}},[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"menu-btn-txt"},[e._v("Change Due Date")])]),s("button",{staticClass:"task-menu-item",on:{click:function(t){return t.stopPropagation(),e.$emit("remove-task")}}},[s("i",{staticClass:"far fa-trash-alt"}),s("span",{staticClass:"menu-btn-txt"},[e._v("Remove")])]),s("div",{ref:"pickersContainer",staticClass:"pickers-container"},[e.isMenuOpen.label?s("labelPicker",{staticClass:"label-picker",attrs:{boardLabels:e.boardLabels,taskLabels:e.task.labels},on:{"set-labels":e.setLabels,"close-picker":function(t){e.isMenuOpen.label=!1}}}):e._e(),e.isMenuOpen.move?s("move-picker",{staticClass:"move-picker",attrs:{optionalLists:e.optionalLists},on:{"close-picker":function(t){e.isMenuOpen.move=!1},input:e.moveTask},model:{value:e.moveToList,callback:function(t){e.moveToList=t},expression:"moveToList"}}):e._e(),s("div",{staticClass:"block"},[s("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.isMenuOpen.dueDate,expression:"isMenuOpen.dueDate"}],ref:"calendar",staticClass:"el-date-picker",attrs:{type:"datetime",format:"MMM dd hh:mm A","value-format":"timestamp",placeholder:"Select date and time",size:"mini"},on:{change:e.setDueDate},model:{value:e.taskCopy.dueDate.time,callback:function(t){e.$set(e.taskCopy.dueDate,"time",t)},expression:"taskCopy.dueDate.time"}})],1)],1)])]):e._e()])},ms=[],fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"move-picker"},[s("button",{staticClass:"close",on:{click:function(t){return e.$emit("close-picker")}}},[s("i",{staticClass:"fas fa-times"})]),s("form",{on:{submit:function(t){return t.preventDefault(),e.emitListId(t)}}},[s("span",{staticClass:"title"},[e._v("Move Task")]),s("span",{staticClass:"dest"},[e._v("Select destination")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.pickedListId,expression:"pickedListId"}],attrs:{placeholder:"Select list"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.pickedListId=t.target.multiple?s:s[0]}}},e._l(e.optionalLists,(function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0),s("br"),s("button",[e._v("Move")])])])},hs=[],vs={data:function(){return{pickedListId:this.value}},methods:{emitListId:function(){this.pickedListId&&this.$emit("input",this.pickedListId)},moveTask:function(){this.$emit("move-task")}},props:{value:String,optionalLists:Array}},gs=vs,ks=Object(u["a"])(gs,fs,hs,!1,null,null,null),bs=ks.exports,Cs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"label-picker-container"},[s("h4",{staticClass:"label-header"},[e._v("Labels")]),s("div",{staticClass:"label-container"},e._l(e.boardLabels,(function(t){return s("label-card",{key:t.id,attrs:{label:t,isCheck:e.checkLabel(t)},on:{"update-board-label":e.updateBoardLabels,"update-task-label":e.editTaskLabels}})})),1),s("button",{staticClass:"close-btn",on:{click:e.closePicker}},[s("i",{staticClass:"fas fa-times"})])])},ws=[],ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"label-card-cmp"},[s("div",{staticClass:"label-card",style:{"background-color":e.label.color},on:{click:function(t){return t.stopPropagation(),e.toggleTaskLabel(t)}}},[e.isEdit?s("form",{staticClass:"edit-label-name",on:{submit:function(t){return t.preventDefault(),e.editBoardLabel(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editedLabel.txt,expression:"editedLabel.txt"}],attrs:{type:"text",placeholder:"Label name"},domProps:{value:e.editedLabel.txt},on:{input:function(t){t.target.composing||e.$set(e.editedLabel,"txt",t.target.value)}}})]):s("span",[e._v(e._s(e.label.txt))]),e.isCheck?s("span",{staticClass:"check-icon"},[s("i",{staticClass:"fas fa-check"})]):e._e()]),s("button",{staticClass:"label-edit-btn",on:{click:function(t){t.stopPropagation(),e.isEdit=!e.isEdit}}},[s("i",{staticClass:"fas fa-pencil-alt"})])])},_s=[],xs={data:function(){return{editedLabel:null,isEdit:!1}},methods:{editBoardLabel:function(){this.$emit("update-board-label",this.editedLabel),this.isEdit=!1},toggleTaskLabel:function(){this.isEdit||this.$emit("update-task-label",this.label)}},created:function(){this.editedLabel=JSON.parse(JSON.stringify(this.label)),console.log(this.isCheck)},props:{label:Object,isCheck:Boolean}},Ts=xs,Os=Object(u["a"])(Ts,ys,_s,!1,null,null,null),js=Os.exports,Ls={data:function(){return{editedTaskLabels:null,isOnEditMode:{},editedBoardLabels:null}},methods:{editTaskLabels:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.taskLabels.findIndex((function(t){return t.id===e.id})),-1!==a?t.editedTaskLabels.splice(a,1):t.editedTaskLabels.push(e),s.next=4,t.emit("set-labels",t.editedTaskLabels);case 4:t.editedTaskLabels=JSON.parse(JSON.stringify(t.taskLabels));case 5:case"end":return s.stop()}}),s)})))()},updateBoardLabels:function(e){var t=this.editedBoardLabels.findIndex((function(t){return t.id===e.id}));-1!==t&&(this.editedBoardLabels.splice(t,1,e),kt.$emit(_t,this.editedBoardLabels),this.editedBoardLabels=JSON.parse(JSON.stringify(this.boardLabels)))},emit:function(e,t){var s=this;return new Promise((function(a,n){s.$emit(e,t),s.$nextTick(a)}))},checkLabel:function(e){var t=this.taskLabels.find((function(t){return t.id===e.id}));return!!t},closePicker:function(){this.$emit("close-picker")}},created:function(){this.editedTaskLabels=JSON.parse(JSON.stringify(this.taskLabels)),this.editedBoardLabels=JSON.parse(JSON.stringify(this.boardLabels))},props:{boardLabels:Array,taskLabels:Array},components:{labelCard:js}},$s=Ls,Ms=Object(u["a"])($s,Cs,ws,!1,null,null,null),Bs=Ms.exports,Is={data:function(){return{isMenuOpen:{move:!1,label:!1,dueDate:!1},moveToList:null,taskCopy:null}},methods:{moveTask:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kt.$emit(Ct,{toListId:e.moveToList,taskId:e.task.id});case 2:e.updateCopy();case 3:case"end":return t.stop()}}),t)})))()},setLabels:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.taskCopy.labels=e,s.next=3,t.emit("set-labels",t.taskCopy);case 3:t.updateCopy();case 4:case"end":return s.stop()}}),s)})))()},setName:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.emit("set-name",e.taskCopy);case 2:e.updateCopy(),e.$emit("closed");case 4:case"end":return t.stop()}}),t)})))()},setDueDate:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.emit("set-due-date",e.taskCopy);case 2:e.updateCopy();case 3:case"end":return t.stop()}}),t)})))()},openDueDate:function(){var e=this;this.isMenuOpen.dueDate=!this.isMenuOpen.dueDate,setTimeout((function(){e.$refs.calendar.focus()}),0)},expand:function(){se.expandTextArea(this.$refs.editTaskName)},updateCopy:function(){this.taskCopy=JSON.parse(JSON.stringify(this.task))},emit:function(e,t){var s=this;return new Promise((function(a,n){s.$emit(e,t),s.$nextTick(a)}))}},computed:{optionalLists:function(){var e=this,t=this.$store.getters.taskLists;return t.filter((function(t){return t.id!==e.listId}))},boardLabels:function(){return this.$store.getters.labels},btnsClass:function(){return this.menu.getBoundingClientRect().x-190>document.body.clientWidth/2?"left":""}},mounted:function(){this.$refs.taskMenu.style.top=this.menu.getBoundingClientRect().y-3+"px";var e=this.isScroll?210:215;this.$refs.taskMenu.style.left=this.menu.getBoundingClientRect().x-e+"px",this.menu.getBoundingClientRect().y>400&&(this.$refs.pickersContainer.style.top="-200px"),this.$refs.editTaskName.select(),this.expand()},created:function(){this.updateCopy()},components:{movePicker:bs,labelPicker:Bs,dataIndicationPreview:ds,labelPreview:Wt},props:{task:Object,isScroll:Boolean,menu:HTMLButtonElement}},Ss=Is,Ds=Object(u["a"])(Ss,ps,ms,!1,null,null,null),Es=Ds.exports,Ns={data:function(){return{isMenuOpen:!1,taskCopy:null}},computed:{checklistStatus:function(){var e=this.task.checklist.todos,t=e.filter((function(e){return e.isDone})).length,s=e.length;return t+"/"+s},taskDetails:function(){var e=this.$store.getters.currBoardId,t=this.task.id;return"/board/".concat(e,"/task/").concat(t)},isDataIndication:function(){var e=this.task;return e.dueDate.time||e.desc||e.comments.length||e.attachments.length||e.checklist||e.members.length},isScroll:function(){var e=document.getElementById(this.listId),t=e.scrollHeight>e.clientHeight;return t}},methods:{openMenu:function(e){e.stopPropagation(),this.isMenuOpen=!this.isMenuOpen},closeMenu:function(e){this.updateTask(e),this.isMenuOpen=!1},taskDetailsPage:function(){this.$router.push(this.taskDetails)},updateTask:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.taskCopy=e,s.next=3,t.emit("update-task",t.taskCopy);case 3:try{t.taskCopy=JSON.parse(JSON.stringify(t.task))}catch(a){console.log("Task saving failed"),t.taskCopy=JSON.parse(JSON.stringify(t.task))}case 4:case"end":return s.stop()}}),s)})))()},emit:function(e,t){var s=this;return new Promise((function(a,n){s.$emit(e,t),s.$nextTick(a)}))}},created:function(){this.taskCopy=JSON.parse(JSON.stringify(this.task))},components:{taskMenu:Es,labelPreview:Wt,dataIndicationPreview:ds},props:{task:Object,listId:String,elTasks:HTMLElement}},Ps=Ns,Rs=Object(u["a"])(Ps,At,Ut,!1,null,null,null),Js=Rs.exports,As=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("div",{staticClass:"screen-trans",on:{click:function(t){return e.$emit("clicked")}}}),s("menu",{staticClass:"list-menu"},[s("div",{staticClass:"item",on:{click:function(t){return e.$emit("add-task")}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add new task")]),s("div",{staticClass:"item",on:{click:function(t){e.isMoveOpen=!e.isMoveOpen}}},[s("i",{staticClass:"fas fa-arrow-right"}),e._v(" Move list")]),e.isMoveOpen?s("list-mover",{attrs:{options:e.listIdxs},on:{input:e.moveList},model:{value:e.moveToIdx,callback:function(t){e.moveToIdx=t},expression:"moveToIdx"}}):e._e(),s("div",{staticClass:"item remove",on:{click:function(t){return e.emitEv("remove-list")}}},[s("i",{staticClass:"far fa-trash-alt"}),e._v(" Remove list")])],1)])},Us=[],zs=(s("13d5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"list-mover"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.moveList(t)}}},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.moveTo,expression:"moveTo"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.moveTo=t.target.multiple?s:s[0]}}},e._l(e.options,(function(t){return s("option",{key:t,domProps:{value:t}},[e._v("Position "+e._s(t))])})),0),s("button",[e._v("Save")])])])}),qs=[],Fs={data:function(){return{moveTo:this.value}},methods:{moveList:function(){this.moveTo&&this.$emit("input",this.moveTo)}},props:{value:Number,options:Array}},Hs=Fs,Gs=Object(u["a"])(Hs,zs,qs,!1,null,null,null),Ws=Gs.exports,Ks={data:function(){return{isMoveOpen:!1,moveToIdx:null}},methods:{emitEv:function(e){kt.$emit(e,this.listId)},moveList:function(e){this.$emit("list-moved",e)}},computed:{listIdxs:function(){var e=this;return this.$store.getters.taskLists.reduce((function(t,s,a){return s&&s.id!==e.listId&&t.push(a+1),t}),[])}},components:{listMover:Ws},props:{listId:String}},Qs=Ks,Vs=Object(u["a"])(Qs,As,Us,!1,null,null,null),Xs=Vs.exports,Ys=s("3f7d"),Zs={data:function(){return{newTask:null,isTaskSaved:!1,isMenuOpen:!1,listCopy:null,isEditName:!1}},methods:{getEmptyTask:function(){var e=this;this.newTask=be.getEmptyTask(),setTimeout((function(){e.$refs.tasks.scrollTo(0,e.$refs.tasks.scrollHeight),e.$refs.taskInput&&e.$refs.taskInput.focus()}),2)},editListName:function(){var e=this;this.isEditName=!0,setTimeout((function(){e.$refs.listNameInput.focus()}),0)},addTask:function(e){var t=this;e&&e.shiftKey?this.newTask.name+="\n":(this.isTaskSaved=!0,this.newTask.name.length?(this.newTask.listId=this.taskList.id,this.listCopy.tasks.push(this.newTask),this.saveList("save-list"),this.getEmptyTask(),setTimeout((function(){t.$refs.tasks.scrollTo(0,t.$refs.tasks.scrollHeight)}),2),this.$refs.taskInput.focus()):this.newTask=null)},saveList:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.listCopy=JSON.parse(JSON.stringify(t.listCopy)),s.next=3,t.emit(e,t.listCopy);case 3:try{t.listCopy=JSON.parse(JSON.stringify(t.taskList))}catch(a){t.listCopy=JSON.parse(JSON.stringify(t.taskList))}case 4:case"end":return s.stop()}}),s)})))()},saveTask:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.listCopy.tasks.findIndex((function(t){return t.id===e.id})),-1!==a&&(t.listCopy.tasks.splice(a,1,e),t.saveList("save-list"));case 2:case"end":return s.stop()}}),s)})))()},onDrop:function(e){this.listCopy.tasks=se.applyDrag(this.taskList.tasks,e),this.saveList("save-lists-order")},getTaskPayload:function(e){var t=this;return function(s){return t.$store.getters.taskLists.filter((function(t){return t.id===e}))[0].tasks[s]}},emit:function(e,t){var s=this;return new Promise((function(a,n){s.$emit(e,t),s.$nextTick(a)}))},moveList:function(e){this.$emit("list-moved",{listIdx:this.listIdx,toIdx:e-1}),this.isMenuOpen=!1},saveListName:function(e){this.saveList("save-list"),this.isEditName=!1},focus:function(e){e.target.focus()},blurTask:function(){var e=this;setTimeout((function(){e.isTaskSaved||(e.newTask&&e.newTask.name.length>0&&e.addTask(),e.newTask=null),e.isTaskSaved=!1}),150)},removeTask:function(e){var t=this.listCopy.tasks.findIndex((function(t){return t.id===e}));-1!==t&&this.listCopy.tasks.splice(t,1),this.saveList("save-list")}},created:function(){this.listCopy=JSON.parse(JSON.stringify(this.taskList))},computed:{tasks:function(){return this.taskList.tasks}},props:{taskList:Object,listIdx:Number},components:{taskPreview:Js,listMenu:Xs,Container:Ys["Container"],Draggable:Ys["Draggable"]}},ea=Zs,ta=Object(u["a"])(ea,Rt,Jt,!1,null,null,null),sa=ta.exports,aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"window",staticClass:"window-overlay",on:{mousedown:e.closeDetailsOverlay}},[e.task?s("section",{ref:"task",staticClass:"task-details"},[e.isLabelOpen?s("label-picker",{staticClass:"move-label-menu",attrs:{boardLabels:e.boardLabels,taskLabels:e.task.labels},on:{"set-labels":e.setLabels,"close-picker":e.toggleLabelMenu}}):e._e(),e.isMoveOpen?s("move-picker",{staticClass:"move-picker-menu",attrs:{optionalLists:e.optionalLists},on:{input:e.moveTask,"close-picker":e.toggleMoveMenu},model:{value:e.moveToList,callback:function(t){e.moveToList=t},expression:"moveToList"}}):e._e(),s("div",{staticClass:"task-details-header details-grid-title"},[e._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editedTask.name,expression:"editedTask.name"}],staticClass:"task-title",attrs:{type:"text"},domProps:{value:e.editedTask.name},on:{change:e.updateAndBlur,input:function(t){t.target.composing||e.$set(e.editedTask,"name",t.target.value)}}}),s("button",{staticClass:"close-btn",on:{click:e.closeDetails}},[s("i",{staticClass:"fas fa-times"})])]),s("h1"),s("div",{staticClass:"details-container"},[s("div",{staticClass:"details-info"},[s("div",{staticClass:"details-lmd"},[e.task.labels.length?s("section",{staticClass:"details-labels details-grid-title"},[s("div",{staticClass:"details-grid-last"},[e._m(1),s("div",{staticClass:"list"},[s("label-preview",{attrs:{labels:e.task.labels}})],1)])]):e._e(),e.task.members?s("section",{staticClass:"details-members details-grid-title"},[s("div",{staticClass:"details-grid-last"},[e._m(2),s("div",{staticClass:"list"},[s("member-preview",{attrs:{members:e.task.members}}),s("button",{staticClass:"member-add-btn member-card",on:{click:e.setMembers}},[e._v("+")])],1)])]):e._e(),null!==e.task.dueDate.isCompleted?s("section",{staticClass:"details-due-date details-grid-title"},[s("div",{staticClass:"dueDate-container details-grid-last"},[e._m(3),s("div",{staticClass:"details-due-list"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editedTask.dueDate.isCompleted,expression:"editedTask.dueDate.isCompleted"}],staticClass:"details-due-check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.editedTask.dueDate.isCompleted)?e._i(e.editedTask.dueDate.isCompleted,null)>-1:e.editedTask.dueDate.isCompleted},on:{change:[function(t){var s=e.editedTask.dueDate.isCompleted,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&e.$set(e.editedTask.dueDate,"isCompleted",s.concat([r])):i>-1&&e.$set(e.editedTask.dueDate,"isCompleted",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.editedTask.dueDate,"isCompleted",n)},e.updateTask]}}),s("div",{staticClass:"block"},[s("el-date-picker",{ref:"calendar",staticClass:"el-date-picker",attrs:{type:"datetime",format:"MMM dd hh:mm A","value-format":"timestamp",placeholder:"Select date and time",size:"mini"},on:{change:e.updateTask},model:{value:e.editedTask.dueDate.time,callback:function(t){e.$set(e.editedTask.dueDate,"time",t)},expression:"editedTask.dueDate.time"}})],1),e.task.dueDate.time?s("due-date-preview",{attrs:{dueDate:e.task.dueDate}}):e._e()],1)])]):e._e()]),s("section",{staticClass:"details-description details-grid"},[e._m(4),e._m(5),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editedTask.desc,expression:"editedTask.desc"}],ref:"description",staticClass:"details-desc-input details-grid-last",attrs:{placeholder:"Add more information here",rows:"1"},domProps:{value:e.editedTask.desc},on:{input:[function(t){t.target.composing||e.$set(e.editedTask,"desc",t.target.value)},e.expandTextArea],change:e.updateTask}})]),e.editedTask.attachments.length?s("section",{staticClass:"details-attachment details-grid"},[e._m(6),e._m(7),s("img",{staticClass:"details-grid-last",attrs:{src:e.getTaskImg}})]):e._e(),e.task.checklist?s("section",{staticClass:"details-checklist details-grid"},[e._m(8),s("div",{staticClass:"details-checklist-header"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editedTask.checklist.title,expression:"editedTask.checklist.title"}],ref:"checklist",staticClass:"checklist-title",attrs:{type:"text"},domProps:{value:e.editedTask.checklist.title},on:{change:e.updateAndBlur,input:function(t){t.target.composing||e.$set(e.editedTask.checklist,"title",t.target.value)}}})]),s("div",{staticClass:"details-grid-last"},[e.editedTask.checklist.todos.length?s("el-progress",{staticClass:"checklist-progress",attrs:{percentage:e.checklistProgress,color:e.progressColor}}):e._e(),e._l(e.editedTask.checklist.todos,(function(t){return s("div",{key:t.id,staticClass:"checklist-todo-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isDone,expression:"item.isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isDone)?e._i(t.isDone,null)>-1:t.isDone},on:{change:[function(s){var a=t.isDone,n=s.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=e._i(a,i);n.checked?o<0&&e.$set(t,"isDone",a.concat([i])):o>-1&&e.$set(t,"isDone",a.slice(0,o).concat(a.slice(o+1)))}else e.$set(t,"isDone",r)},e.updateTask]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.txt,expression:"item.txt"}],staticClass:"checklist-todo",class:t.isDone?"todo-done":"",attrs:{type:"text"},domProps:{value:t.txt},on:{change:e.updateTask,input:function(s){s.target.composing||e.$set(t,"txt",s.target.value)}}}),s("button",{staticClass:"todo-remove-btn",on:{click:function(s){return e.removeTodo(t.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])})),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currTodo.txt,expression:"currTodo.txt"}],staticClass:"checklist-add-todo",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:e.currTodo.txt},on:{change:e.addTodo,input:function(t){t.target.composing||e.$set(e.currTodo,"txt",t.target.value)}}})],2)]):e._e(),s("section",{staticClass:"details-discussion details-grid"},[e._m(9),e._m(10),s("input",{directives:[{name:"model",rawName:"v-model",value:e.currComment.txt,expression:"currComment.txt"}],ref:"comment",staticClass:"discussion-add-item details-grid-last",attrs:{type:"text",placeholder:"Write a comment"},domProps:{value:e.currComment.txt},on:{change:e.addComment,input:function(t){t.target.composing||e.$set(e.currComment,"txt",t.target.value)}}})]),s("comment-preview",{attrs:{comments:e.editedTask.comments},on:{removeComment:e.removeComment}})],1),s("section",{staticClass:"details-actions"},[s("div",{staticClass:"title"},[e._v("Actions:")]),s("button",{on:{click:e.toggleLabelMenu}},[s("i",{staticClass:"fas fa-tag"}),s("span",{staticClass:"action-title"},[e._v("Labels")])]),s("button",{on:{click:e.setMembers}},[s("i",{staticClass:"far fa-user"}),s("span",{staticClass:"action-title"},[e._v("Members")])]),s("button",{on:{click:e.setDueDate}},[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"action-title"},[e._v("Due Date")])]),s("button",{on:{click:e.updateDescription}},[s("i",{staticClass:"fas fa-align-left"}),s("span",{staticClass:"action-title"},[e._v("Description")])]),e._m(11),s("input",{attrs:{id:"add-img",type:"file"},on:{change:e.uploadImg}}),s("button",{on:{click:e.updateChecklist}},[s("i",{staticClass:"far fa-check-square"}),s("span",{staticClass:"action-title"},[e._v("Checklist")])]),s("button",{on:{click:e.sendComment}},[s("i",{staticClass:"far fa-comment"}),s("span",{staticClass:"action-title"},[e._v("Comments")])]),s("button",{on:{click:e.toggleMoveMenu}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"}),s("span",{staticClass:"action-title"},[e._v("Move")])]),s("button",{on:{click:e.removeTask}},[s("i",{staticClass:"far fa-trash-alt"}),s("span",{staticClass:"action-title"},[e._v("Remove")])])])])],1):e._e()])},na=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-layer-group"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[e._v("Labels:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[e._v("Members:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[e._v("Due Date:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-align-left"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",{staticClass:"titles"},[e._v("Description:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"far fa-image"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("span",{staticClass:"titles"},[e._v("Image:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"far fa-check-square"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-stream"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"details-disc-header"},[s("span",{staticClass:"details-titles"},[e._v("Discussion:")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"add-image-btn",attrs:{for:"add-img"}},[s("i",{staticClass:"far fa-image"}),s("span",{staticClass:"action-title"},[e._v("Add Image")])])}],ra=(s("a4d3"),s("e01a"),s("8055")),ia=s.n(ra),oa="/",ca={setup:la,terminate:ua,on:da,off:pa,emit:ma};function la(){je=ia()(oa)}function ua(){je=null}function da(e,t){je.on(e,t)}function pa(e,t){je.off(e,t)}function ma(e,t){je.emit(e,t)}var fa={uploadImg:ha};function ha(e){var t="ramus",s="https://api.cloudinary.com/v1_1/".concat(t,"/image/upload"),a=new FormData;return a.append("file",e.target.files[0]),a.append("upload_preset","nhn1typb"),fetch(s,{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){return console.log(e),e.url})).catch((function(e){return console.error(e)}))}var va=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"comments-preview"},e._l(e.comments,(function(t){return s("div",{key:t.id,staticClass:"comment-card"},[s("div",{staticClass:"comment-img-container member-card"},[s("div",{staticClass:"comment-img member-card-name"},[e._v(e._s(t.from.charAt(0)))])]),s("div",{staticClass:"comment-info"},[s("div",{staticClass:"comment-from"},[e._v(e._s(t.from))]),s("div",{staticClass:"comment-time"},[e._v(e._s(e._f("minimalDate")(t.createdAt)))])]),s("div",{staticClass:"comment-txt"},[e._v(e._s(t.txt))]),s("div",{staticClass:"comment-controls"},[s("span",{staticClass:"action-link",on:{click:function(s){return e.removeComment(t.id)}}},[e._v("delete")])])])})),0)},ga=[],ka={methods:{removeComment:function(e){this.$emit("removeComment",e)}},props:{comments:Array}},ba=ka,Ca=Object(u["a"])(ba,va,ga,!1,null,null,null),wa=Ca.exports,ya={data:function(){return{editedTask:null,currDueDate:null,moveToList:null,isLabelOpen:!1,isMoveOpen:!1,listId:null,currTodo:{txt:""},currComment:{txt:""}}},methods:{uploadImg:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,fa.uploadImg(e);case 2:a=s.sent,t.editedTask.attachments.unshift(a),t.updateTask();case 5:case"end":return s.stop()}}),s)})))()},getListId:function(){var e=this,t=this.$store.getters.taskLists.findIndex((function(t){var s=t.tasks.find((function(t){return t.id===e.task.id}));return!!s}));this.listId=this.$store.getters.taskLists[t].id},setLabels:function(e){this.editedTask.labels=e,this.updateTask()},toggleMoveMenu:function(){this.isMoveOpen=!this.isMoveOpen},toggleLabelMenu:function(){this.isLabelOpen=!this.isLabelOpen},moveTask:function(){var e=this.moveToList,t=this.task.id;this.$emit("move-task",{toListId:e,taskId:t}),this.updateTask(),this.toggleMoveMenu()},updateTask:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"updateTask",task:e.editedTask});case 2:try{e.editedTask=JSON.parse(JSON.stringify(e.task))}catch(s){e.editedTask=JSON.parse(JSON.stringify(s)),console.log("Err, failed to save task")}ca.emit("board boardChanged",e.currBoard);case 4:case"end":return t.stop()}}),t)})))()},updateAndBlur:function(e){e.target.blur(),this.updateTask()},removeTask:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"removeTask",task:e.editedTask});case 2:try{e.closeDetails()}catch(s){e.editedTask=JSON.parse(JSON.stringify(s)),console.log("Err, failed to save task")}ca.emit("board boardChanged",e.currBoard);case 4:case"end":return t.stop()}}),t)})))()},setDueDate:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==e.editedTask.dueDate.isCompleted){t.next=7;break}return e.editedTask.dueDate.isCompleted=!1,t.next=4,e.updateTask();case 4:try{e.$refs.calendar.focus()}catch(s){console.log("failed to save setDueDate")}t.next=8;break;case 7:e.$refs.calendar.focus();case 8:case"end":return t.stop()}}),t)})))()},addTodo:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=se.getEmptyTodo(),s.txt=e.currTodo.txt,e.editedTask.checklist.todos.push(s),t.next=5,e.updateTask();case 5:try{e.currTodo.txt=""}catch(a){console.log("Failed to save todo + task")}case 6:case"end":return t.stop()}}),t)})))()},removeTodo:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.editedTask.checklist.todos.findIndex((function(t){return t.id===e})),-1!==a&&t.editedTask.checklist.todos.splice(a,1),s.next=4,t.updateTask().catch((function(){console.log("Failed to save todo + task")}));case 4:case"end":return s.stop()}}),s)})))()},addComment:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=se.getEmptyComment(),s.txt=e.currComment.txt,s.from="Guest",e.editedTask.comments.unshift(s),t.next=6,e.updateTask();case 6:try{e.currComment.txt=""}catch(a){console.log("Failed to save comment + task")}case 7:case"end":return t.stop()}}),t)})))()},removeComment:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.editedTask.comments.findIndex((function(t){return t.id===e})),-1!==a&&t.editedTask.comments.splice(a,1),s.next=4,t.updateTask().catch((function(){console.log("Failed to save todo + task")}));case 4:case"end":return s.stop()}}),s)})))()},updateChecklist:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.editedTask.checklist){t.next=4;break}e.$refs.checklist.select(),t.next=9;break;case 4:return s=se.getEmptyChecklist(),e.editedTask.checklist=s,t.next=8,e.updateTask();case 8:try{e.$refs.checklist.select()}catch(a){console.log("failed to save checklist")}case 9:case"end":return t.stop()}}),t)})))()},setMembers:function(){console.log("Please set the Members!")},updateDescription:function(){this.$refs.description.select()},expandTextArea:function(){var e=this.$refs.description;se.expandTextArea(e)},sendComment:function(){this.$refs.comment.focus()},closeDetails:function(){var e=this.$store.getters.currBoardId;this.$router.push("/board/".concat(e))},closeDetailsOverlay:function(e){if(e.target===this.$refs.window){var t=this.$store.getters.currBoardId;this.$router.push("/board/".concat(t))}},closeDetailsOnEsc:function(e){"Escape"===e.key&&this.closeDetails()}},computed:{task:function(){return this.$store.getters.currTask},getTaskImg:function(){return this.editedTask.attachments[0]},optionalLists:function(){var e=this,t=this.$store.getters.taskLists;return t.filter((function(t){return t.id!==e.listId}))},boardLabels:function(){return this.$store.getters.labels},checklistProgress:function(){if(!this.editedTask.checklist.todos.length)return 0;var e=this.editedTask.checklist.todos.filter((function(e){return!0===e.isDone})).length,t=e/this.editedTask.checklist.todos.length*100;return parseInt(t)},progressColor:function(){var e=this.editedTask.checklist.todos.filter((function(e){return!0===e.isDone})).length,t=e/this.editedTask.checklist.todos.length*100;return 100===t?"#67C23A":"#409EFF"},currBoard:function(){return this.$store.getters.currBoard}},created:function(){this.editedTask=JSON.parse(JSON.stringify(this.task)),console.log("// Details Task:",this.task),document.addEventListener("keyup",this.closeDetailsOnEsc),this.getListId()},destroyed:function(){document.removeEventListener("keyup",this.closeDetailsOnEsc)},mounted:function(){this.expandTextArea()},components:{memberPreview:ts,labelPreview:Wt,dueDatePreview:os,commentPreview:wa,labelPicker:Bs,movePicker:bs}},_a=ya,xa=Object(u["a"])(_a,aa,na,!1,null,null,null),Ta=xa.exports,Oa={data:function(){return{board:null,newTaskList:null,isTaskDetailsOpen:!1,isTaskLoad:!1,isListSaved:!1,draggingListIdx:null,placeholderOpts:{className:"list-drop-preview",animationDuration:"150",showOnTop:!1}}},methods:{loadBoardAndTask:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$store.dispatch({type:"loadById",boardId:e});case 2:a=s.sent;try{t.board=JSON.parse(JSON.stringify(a)),n=t.$route.params.taskId,n?(t.$store.commit({type:"setTaskById",taskId:n}),t.isTaskDetailsOpen=!0):t.isTaskDetailsOpen=!1,t.isTaskLoad=!1}catch(r){console.log("Err msg to user here"),t.$router.push("/user/dashboard")}case 4:case"end":return s.stop()}}),s)})))()},saveBoard:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"saveBoard",board:e.board});case 2:t.prev=2,e.board=JSON.parse(JSON.stringify(e.storeBoard)),console.log("CMP: Board Saved Succesfully"),t.next=12;break;case 7:throw t.prev=7,t.t0=t["catch"](2),e.board=JSON.parse(JSON.stringify(board)),console.log("Err, board didnt saved"),new Error("Saving failed");case 12:ca.emit("board boardChanged",e.board);case 13:case"end":return t.stop()}}),t,null,[[2,7]])})))()},addList:function(e){var t=this;this.newTaskList&&(this.isListSaved=!0,this.newTaskList.name.length?(this.board.taskLists.push(this.newTaskList),this.saveBoard(),this.newTaskList=null,this.getEmptyList(),setTimeout((function(){se.scrollTo(t.$refs.lists,1500,700)}),2)):this.newTaskList=null)},blurAddList:function(){var e=this;setTimeout((function(){e.isListSaved||(e.newTaskList&&e.newTaskList.name.length>0&&e.addList(),e.newTaskList=null),e.isListSaved=!1}),150)},moveList:function(e){var t=e.listIdx,s=e.toIdx,a=JSON.parse(JSON.stringify(this.board.taskLists[t]));this.board.taskLists.splice(t,1),this.board.taskLists.splice(s,0,a),this.saveBoard()},onDrop:function(e){this.board.taskLists=se.applyDrag(this.board.taskLists,e),this.saveBoard()},removeList:function(e){var t=this.board.taskLists.findIndex((function(t){return t.id===e}));this.board.taskLists.splice(t,1),this.saveBoard()},saveTaskList:function(e){var t=this.board.taskLists.findIndex((function(t){return t.id===e.id}));-1!==t&&this.board.taskLists.splice(t,1,e),this.saveBoard()},saveListsOrder:function(e){var t=this.board.taskLists.findIndex((function(t){return t.id===e.id}));-1!==t&&this.board.taskLists.splice(t,1,e),t===this.board.taskLists.length-1&&this.saveBoard()},moveTask:function(e){var t,s=e.toListId,a=e.taskId,n=this.taskLists.findIndex((function(e){var t=e.tasks.find((function(e){return e.id===a}));return!!t}));t=this.taskLists[n].id;var r=this.board.taskLists.find((function(e){return e.id===t}));if(r){var i,o=r.tasks.find((function(e,t){if(e.id===a)return i=t,!0}));r.tasks.splice(i,1);var c=this.board.taskLists.find((function(e){return e.id===s}));o&&(c.tasks.push(o),this.saveBoard())}},updateBoard:function(e){this.$store.commit({type:"setCurrBoard",board:e}),this.board=JSON.parse(JSON.stringify(e)),console.log("Board updated")},getEmptyList:function(){var e=this;this.newTaskList=this.newTaskList?null:be.getEmptyList(),setTimeout((function(){se.scrollTo(document.querySelector("html"),1500,700),e.$refs.listInput&&e.$refs.listInput.focus()}),0)},updateStyle:function(e){var t=this,s=JSON.parse(JSON.stringify(this.$store.getters.loggedinUser)),a=s.boards.find((function(e){return e._id===t.storeBoard._id}));a.style.background=e,this.$store.dispatch({type:"updateUser",user:s}),this.board.style.background=e,this.saveBoard()},addMember:function(e){this.board.members.push(e),this.saveBoard()},removeMember:function(e){var t=this.board.members.findIndex((function(t){return t._id===e}));this.board.members.splice(t,1),this.saveBoard()},updateBoardLabels:function(e){var t,s=this;this.board.labels=e,this.board.taskLists.forEach((function(a){a.tasks.forEach((function(a){var n=a.labels.map((function(t){var s=e.find((function(e){return e.id===t.id}));return s}));a.labels=n,a.id===s.currTask.id&&(t=JSON.parse(JSON.stringify(a)))}))})),t&&this.$store.dispatch({type:"updateTask",task:t}),this.saveBoard()}},computed:{taskLists:function(){return this.$store.getters.taskLists},currTask:function(){return this.$store.getters.currTask},storeBoard:function(){return this.$store.getters.currBoard}},watch:{$route:function(){this.isTaskLoad=!0;var e=this.$route.params.boardId;this.loadBoardAndTask(e)}},created:function(){var e=this,t=this.$route.params.boardId;Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.loadBoardAndTask(t);case 2:ca.setup(),ca.emit("board topic",e.board._id),ca.on("board boardChanged",e.updateBoard);case 5:case"end":return s.stop()}}),s)})))(),kt.$on(bt,this.removeList),kt.$on(Ct,this.moveTask),kt.$on(wt,this.addMember),kt.$on(yt,this.removeMember),kt.$on(_t,this.updateBoardLabels)},destroyed:function(){kt.$off(bt,this.removeList),kt.$off(Ct,this.moveTask),kt.$off(wt,this.addMember),kt.$off(yt,this.removeMember),kt.$off(_t,this.updateBoardLabels)},components:{boardHeader:Pt,taskList:sa,taskDetails:Ta,Container:Ys["Container"],Draggable:Ys["Draggable"]}},ja=Oa,La=Object(u["a"])(ja,Ke,Qe,!1,null,null,null),$a=La.exports;a["default"].use(T["a"]);var Ma=[{path:"/",name:"Home",component:B},{path:"/about",name:"About",component:P},{path:"/user/:userId",name:"Dashboard",component:We},{path:"/board/:boardId",name:"BoardApp",component:$a},{path:"/board/:boardId/task/:taskId",name:"TaskDetails",component:$a}],Ba=new T["a"]({mode:"history",routes:Ma}),Ia=Ba,Sa=s("2f62"),Da={state:{currBoard:null,filterBy:null,currTask:null,isLabelsMini:!1},getters:{currBoardId:function(e){return e.currBoard._id},taskLists:function(e){return e.currBoard.taskLists},currTask:function(e){return e.currTask},labels:function(e){return e.currBoard.labels},currBoard:function(e){return e.currBoard},isLabelsMini:function(e){return e.isLabelsMini}},mutations:{setBoards:function(e,t){var s=t.boards;e.boards=s},setCurrBoard:function(e,t){var s=t.board;e.currBoard=s},setCurrTask:function(e,t){var s=t.task;e.currTask=s},setTaskById:function(e,t){var s=t.taskId;s?e.currBoard.taskLists.forEach((function(t){var a=t.tasks.find((function(e){return e.id===s}));a&&(e.currTask=a)})):e.currTask=null},toggleMiniLabals:function(e){e.isLabelsMini=!e.isLabelsMini}},actions:{loadById:function(e,t){var s=t.boardId;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,be.getById(s);case 2:return a=t.sent,t.prev=3,e.commit({type:"setCurrBoard",board:a}),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t["catch"](3),console.log("Err: Board load failed"),new Error;case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},updateTask:function(e,t){var s=t.task;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=JSON.parse(JSON.stringify(e.state.currTask)),e.commit({type:"setCurrTask",task:s}),n=JSON.parse(JSON.stringify(e.state.currBoard)),n.taskLists.forEach((function(t){var r=t.tasks.findIndex((function(e){return e.id===s.id}));if(-1!==r){t.tasks.splice(r,1,s);try{e.dispatch({type:"saveBoard",board:n})}catch(i){return console.log("Err: Task saving failed"),e.commit({type:"setCurrTask",prevTask:a}),Promise.reject(a)}}}));case 4:case"end":return t.stop()}}),t)})))()},removeTask:function(e,t){var s=t.task;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=JSON.parse(JSON.stringify(e.state.currTask)),n=JSON.parse(JSON.stringify(e.state.currBoard)),n.taskLists.forEach((function(t){var r=t.tasks.findIndex((function(e){return e.id===s.id}));if(-1!==r){t.tasks.splice(r,1);try{e.dispatch({type:"saveBoard",board:n})}catch(i){return console.log("Err: Task saving failed"),e.commit({type:"setCurrTask",prevTask:a}),Promise.reject(a)}}}));case 3:case"end":return t.stop()}}),t)})))()},saveBoard:function(e,t){var s=t.board;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(JSON.stringify(e.state.currBoard)),e.commit({type:"setCurrBoard",board:s}),t.next=4,be.save(s);case 4:return n=t.sent,t.prev=5,console.log("Board Saved!"),t.abrupt("return",n);case 10:return t.prev=10,t.t0=t["catch"](5),e.commit({type:"setCurrBoard",prevBoard:a}),console.log("Err: Board saving failed"),t.abrupt("return",Promise.reject(a));case 15:case"end":return t.stop()}}),t,null,[[5,10]])})))()},createBoard:function(e,t){var s=t.board;return Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be.save(s);case 2:return t=e.sent,e.prev=3,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e["catch"](3),console.log("Board create failed"),e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e,null,[[3,7]])})))()}}};function Ea(e){return JSON.parse(sessionStorage.getItem(e))}function Na(e,t){sessionStorage.setItem(e,JSON.stringify(t))}var Pa={get:Ea,set:Na},Ra={store:Ja,load:Aa};function Ja(e,t){localStorage[e]=JSON.stringify(t)}function Aa(e){var t=localStorage[e]||"null";return JSON.parse(t)}var Ua={login:Ga,logout:Va,signup:Ka,query:Ya,getById:qa,remove:Fa,update:Ha,getLoggedInUser:za};function za(){var e=Pa.get("user");return e?qa(e._id):(e=Ra.load("user"),e?qa(e._id):en())}function qa(e){return Y.get("user/".concat(e))}function Fa(e){return Y.delete("user/".concat(e))}function Ha(e){return Y.put("user/".concat(e._id),e)}function Ga(e){return Wa.apply(this,arguments)}function Wa(){return Wa=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.post("auth/login",t);case 2:return s=e.sent,e.prev=3,Za(s),e.abrupt("return",s);case 8:throw e.prev=8,e.t0=e["catch"](3),console.log("ERR: Unauthorized"),new Error;case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),Wa.apply(this,arguments)}function Ka(e){return Qa.apply(this,arguments)}function Qa(){return Qa=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.post("auth/signup",t);case 2:return s=e.sent,e.prev=3,e.abrupt("return",Za(s));case 7:throw e.prev=7,e.t0=e["catch"](3),console.log("ERR: Unauthorized"),new Error;case 11:case"end":return e.stop()}}),e,null,[[3,7]])}))),Qa.apply(this,arguments)}function Va(){return Xa.apply(this,arguments)}function Xa(){return Xa=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.post("auth/logout");case 2:sessionStorage.clear(),localStorage.clear();case 4:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ya(e){return Y.get("user",e)}function Za(e){return Pa.set("user",e),e}function en(){return tn.apply(this,arguments)}function tn(){return tn=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={username:"Guest"+se.getRandom(1001,9999),email:"gus@guest.com",password:"123"},e.next=3,Ka(t);case 3:return s=e.sent,e.prev=4,Ra.store("user",s),e.abrupt("return",s);case 9:return e.prev=9,e.t0=e["catch"](4),console.log("Err, guest signup failed"),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[4,9]])}))),tn.apply(this,arguments)}var sn={state:{loggedinUser:null},getters:{loggedinUser:function(e){return e.loggedinUser}},mutations:{setLoggedinUser:function(e,t){var s=t.user;e.loggedinUser=s}},actions:{getLoggedinUser:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ua.getLoggedInUser();case 2:s=t.sent,e.commit({type:"setLoggedinUser",user:s});case 4:case"end":return t.stop()}}),t)})))()},login:function(e,t){var s=t.credentials;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ua.login(s);case 3:return a=t.sent,e.commit({type:"setLoggedinUser",user:a}),t.abrupt("return",a);case 8:throw t.prev=8,t.t0=t["catch"](0),console.log(user),console.log("error - unautorized"),new Error;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},signup:function(e,t){var s=t.credentials;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ua.signup(s);case 2:a=t.sent;try{e.commit({type:"setLoggedinUser",user:a})}catch(n){console.log("error - not singed up")}case 4:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){var s=t.user;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ua.update(s);case 2:return e.commit({type:"setLoggedinUser",user:s}),t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e,t){var s=t.searchStr,a=void 0===s?"":s;return Object(h["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.query(a);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))()},logout:function(e){return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ua.logout();case 2:case"end":return e.stop()}}),e)})))()}}};a["default"].use(Sa["a"]);var an=new Sa["a"].Store({strict:!0,modules:{boardStore:Da,userStore:sn}}),nn=s("c1df"),rn=s.n(nn);a["default"].filter("capitalize",(function(e){return e[0].toUpperCase()+e.slice(1)})),a["default"].filter("dateAgo",(function(e){return rn()(new Date(e)).fromNow()})),a["default"].filter("minimalDate",(function(e){return rn()(new Date(e)).format("MMM D")}));var on=s("5c96"),cn=s.n(on),ln=s("b2d6"),un=s.n(ln);s("0fae"),s("b7e3");a["default"].config.productionTip=!1,a["default"].use(cn.a,{locale:un.a}),new a["default"]({router:Ia,store:an,render:function(e){return e(_)}}).$mount("#app")},"57b6":function(e,t,s){e.exports=s.p+"img/3.5488e1f5.jpg"},"5e54":function(e,t,s){e.exports=s.p+"img/remove-btn.81ab16f0.webp"},"628b":function(e,t,s){e.exports=s.p+"img/8.5b3b9cd5.jpg"},"62ed":function(e,t,s){e.exports=s.p+"img/feature2.fca4a7ae.png"},6823:function(e,t,s){e.exports=s.p+"img/6.aaa35b7d.jpg"},"7d3a":function(e,t,s){e.exports=s.p+"img/0.ad35c45e.jpg"},8624:function(e,t,s){e.exports=s.p+"img/1.d168fb79.jpg"},"88fd":function(e,t,s){e.exports=s.p+"img/14.c24af456.jpg"},"8ce8":function(e,t,s){e.exports=s.p+"img/7.67ae4422.jpg"},"8f78":function(e,t,s){e.exports=s.p+"img/12.2a45fe61.jpg"},"92e8":function(e,t,s){e.exports=s.p+"img/tasky.deee2e78.png"},"974a":function(e,t,s){e.exports=s.p+"img/2.0e4fb785.jpg"},a9c4:function(e,t,s){e.exports=s.p+"img/bg-color.e65f358c.jpg"},b1b2:function(e,t,s){e.exports=s.p+"img/feature1.9a7b4f5e.png"},b7e3:function(e,t,s){},b8c5:function(e,t,s){e.exports=s.p+"img/11.ab7748ea.jpg"},c5f4:function(e,t,s){e.exports=s.p+"img/9.4a04ac0c.jpg"},cdd5:function(e,t,s){e.exports=s.p+"img/4.6933297f.jpg"},daea:function(e,t,s){e.exports=s.p+"img/feature3.03ed4f7c.png"},f23f:function(e,t,s){e.exports=s.p+"img/10.ec02e2d4.jpg"}});
//# sourceMappingURL=app.3c602e21.js.map