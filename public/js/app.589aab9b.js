(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},n={app:0},r=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0737":function(t,e,s){var a={"./0.jpg":"7d3a","./1.jpg":"8624","./10.jpg":"f23f","./11.jpg":"b8c5","./12.jpg":"8f78","./13.jpg":"4ece","./14.jpg":"88fd","./2.jpg":"974a","./3.jpg":"57b6","./4.jpg":"cdd5","./5.jpg":"3849","./6.jpg":"6823","./7.jpg":"8ce8","./8.jpg":"628b","./9.jpg":"c5f4"};function n(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="0737"},1:function(t,e){},3849:function(t,e,s){t.exports=s.p+"img/5.ddcf9543.jpg"},"41f2":function(t,e,s){t.exports=s.p+"img/bg-img.48948499.jpg"},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=r,t.exports=n,n.id="4678"},"4ece":function(t,e,s){t.exports=s.p+"img/13.dd6abd49.jpg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isLoginSignup?s("login-signup",{attrs:{isLogin:t.isLogin},on:{closed:function(e){t.isLoginSignup=!1,t.isLogin=!0}}}):t._e(),s("main-header",{on:{"login-signup":t.openLoginSignup}}),s("router-view",{staticClass:"view"})],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-header"},[a("nav",{staticClass:"main-nav container"},[a("router-link",{staticClass:"logo-link",attrs:{to:"/"}},[a("div",{staticClass:"logo-container"},[a("h1",{staticClass:"main-title"},[t._v("tasky")]),a("img",{staticClass:"main-logo",attrs:{src:s("92e8")}})])]),a("div",{staticClass:"nav-links"},[t.isGuest?a("div",{staticClass:"login-btns"},[a("button",{staticClass:"login",on:{click:function(e){return t.$emit("login-signup")}}},[t._v("Login")]),a("button",{staticClass:"signup",on:{click:function(e){return t.$emit("login-signup",!0)}}},[t._v("Signup")])]):t._e(),t.loggedinUser?a("div",{staticClass:"user"},[a("router-link",{staticClass:"username",attrs:{to:"/user/"+t.loggedinUser._id}},[t._v("Dashboard")]),t.isGuest?t._e():a("button",{staticClass:"logout",on:{click:t.logout}},[t._v("Logout")])],1):t._e()])],1)])},o=[],c={computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},isGuest:function(){return!this.loggedinUser||this.loggedinUser.isGuest}},methods:{logout:function(){this.$store.dispatch({type:"logout"}),this.$store.dispatch({type:"getLoggedinUser"}),this.$router.push("/")}}},l=c,u=s("2877"),d=Object(u["a"])(l,i,o,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"div-screen",on:{click:function(e){return t.$emit("closed")}}}),a("section",{staticClass:"login-signup"},[a("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("closed")}}},[a("i",{staticClass:"fas fa-times"})]),t.isLoginPage?a("div",{staticClass:"page"},[t._m(0),a("hr"),a("form",{staticClass:"login-form",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCredentials.email,expression:"loginCredentials.email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.loginCredentials.email},on:{input:function(e){e.target.composing||t.$set(t.loginCredentials,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCredentials.password,expression:"loginCredentials.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.loginCredentials.password},on:{input:function(e){e.target.composing||t.$set(t.loginCredentials,"password",e.target.value)}}}),a("button",{staticClass:"send-btn save-btn"},[t._v("Login")])]),a("div",{staticClass:"switch"},[t._v(" New ? "),a("button",{on:{click:function(e){t.isLoginPage=!1}}},[t._v("Create new account")])])]):a("div",{staticClass:"page"},[a("header",[a("h2",[t._v("Singup to")]),a("span",{staticClass:"sign-tasky"},[t._v("tasky")]),a("img",{staticClass:"sign-main-logo",attrs:{src:s("f535")}}),a("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("closed")}}},[a("i",{staticClass:"fas fa-times"})])]),a("hr"),a("form",{staticClass:"signup-form",on:{submit:function(e){return e.preventDefault(),t.signup(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCredentials.username,expression:"newCredentials.username"}],attrs:{type:"text",placeholder:"Full name",required:""},domProps:{value:t.newCredentials.username},on:{input:function(e){e.target.composing||t.$set(t.newCredentials,"username",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCredentials.email,expression:"newCredentials.email"}],attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.newCredentials.email},on:{input:function(e){e.target.composing||t.$set(t.newCredentials,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCredentials.password,expression:"newCredentials.password"}],attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.newCredentials.password},on:{input:function(e){e.target.composing||t.$set(t.newCredentials,"password",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],attrs:{type:"password",placeholder:"Confirm your password",required:""},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}}),a("button",{staticClass:"send-btn save-btn"},[t._v("Signup")])]),a("div",{staticClass:"switch"},[t._v(" Already have a user ? "),a("button",{on:{click:function(e){t.isLoginPage=!0}}},[t._v("Login")])])])])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h2",[t._v("Login to")]),a("span",{staticClass:"sign-tasky"},[t._v("tasky")]),a("img",{staticClass:"sign-main-logo",attrs:{src:s("f535")}})])}],h=(s("96cf"),s("1da1")),g={data:function(){return{isLoginPage:!0,loginCredentials:{email:"",password:""},newCredentials:{email:"",username:"",password:""},confirmPassword:""}},methods:{login:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch({type:"login",credentials:t.loginCredentials});case 3:console.log("Logged in sucessfully"),t.$emit("closed"),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log("Try again");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},signup:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newCredentials.email.length&&t.newCredentials.password.length){e.next=3;break}return t.$emit("closed"),e.abrupt("return");case 3:if(t.newCredentials.password!==t.confirmPassword){e.next=10;break}return e.next=6,t.$store.dispatch({type:"signup",credentials:t.newCredentials});case 6:console.log("Signed up"),t.$emit("closed"),e.next=11;break;case 10:console.log("Wrong confirm password");case 11:case"end":return e.stop()}}),e)})))()},closeWindow:function(){this.$store.commit({type:"closeWindow"})}},created:function(){this.isLoginPage=this.isLogin},props:{isLogin:Boolean}},v=g,k=Object(u["a"])(v,p,f,!1,null,null,null),b=k.exports,C={data:function(){return{isLoginSignup:!1,isLogin:!0}},methods:{openLoginSignup:function(t){t&&(this.isLogin=!1),this.isLoginSignup=!0}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){this.$store.dispatch({type:"getLoggedinUser"})},components:{mainHeader:m,loginSignup:b}},w=C,y=Object(u["a"])(w,n,r,!1,null,null,null),_=y.exports,x=s("9483");Object(x["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var T=s("8c4f"),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"home-page"},[s("div",{staticClass:"hero"},[s("div",{staticClass:"cta-hero"},[s("p",{staticClass:"hero-txt"},[t._v("Boost your team's productivity with real-time sharable workspace.")]),s("router-link",{staticClass:"cta-board-btn",attrs:{to:"/board/5e7f5cb58be18a4b647dc9d3"}},[t._v("Try tasky now")])],1)]),t._m(0)])},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"features-main"},[a("div",{staticClass:"intro"},[a("h3",[t._v("The power of the internet is here")])]),a("div",{staticClass:"features-container"},[a("div",{staticClass:"feature-main websocket"},[a("img",{staticClass:"feature-image",attrs:{src:s("b1b2")}}),a("div",{staticClass:"feature-info"},[a("h2",[t._v("Web Sockets")]),a("p",[t._v("With the power of web sockets, you and your team can enjoy a workspace that updates in real-time, keeping everyone synced and up to date.")])])]),a("div",{staticClass:"feature-main dnd"},[a("div",{staticClass:"feature-info"},[a("h2",[t._v("Drag n Drop!")]),a("p",[t._v("Try our Drag n Drop technology to easily move & update your tasks with your mouse or finger.")])]),a("img",{staticClass:"feature-image",attrs:{src:s("62ed")}})]),a("div",{staticClass:"feature-main customize"},[a("img",{staticClass:"feature-image",attrs:{src:s("daea")}}),a("div",{staticClass:"feature-info"},[a("h2",[t._v("Make it yours.")]),a("p",[t._v("Make it feel like home for you and your team. Customize the board's appearance, Organize your lists to fit the team's flow.")])])])])])}],j={},$=j,M=Object(u["a"])($,O,L,!1,null,null,null),D=M.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"about-page"},[s("h1",[t._v("About-Page")])])}],B={},E=B,N=Object(u["a"])(E,I,S,!1,null,null,null),P=N.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loggedinUser?s("section",{staticClass:"dasboard-page"},[t.isUserProfile?s("user-profile",{attrs:{user:t.userCopy},on:{closed:t.toggleUserProfile}}):t._e(),s("header",[t._m(0),s("h2",{staticClass:"title"},[t._v("My Boards")]),s("div",{staticClass:"user-profile-container"},[s("button",{staticClass:"hello center-flex",on:{click:t.toggleUserProfile}},[t._v("Hello "+t._s(t.loggedinUser.username))])])]),s("section",{staticClass:"boards"},[t._l(t.loggedinUser.boards,(function(t){return s("board-preview",{key:t._id,attrs:{board:t}})})),s("button",{staticClass:"new-board-btn",on:{click:function(e){t.isCreate=!0}}},[t._v("Create new board")]),t.isCreate?s("create-board",{on:{"board-created":t.createBoard,closed:function(e){t.isCreate=!1}}}):t._e()],2)],1):t._e()},U=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon"},[s("i",{staticClass:"far fa-star"})])}],A=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("section",[s("div",{staticClass:"div-screen",on:{click:function(e){return t.$emit("closed")}}}),s("section",{staticClass:"user-profile"},[s("button",{staticClass:"close-btn",on:{click:function(e){return t.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})]),t._m(0),s("hr"),s("section",{staticClass:"user-profile-container"},[s("div",{staticClass:"profile-view"},[this.user.imgUrl?s("img",{attrs:{src:this.user.imgUrl,alt:""}}):s("div",{style:{backgroundColor:this.user.avatarColor}},[s("span",[t._v(t._s(t.avatarTxt))])]),s("div",{staticClass:"profile-name"},[s("span",[t._v(t._s(this.userCopy.username))])])]),s("div",{staticClass:"profile-edit"},[s("label",{staticClass:"profile-menu-btn",attrs:{for:"profile-user-avatar"}},[t._v("Edit profile image")]),s("input",{staticClass:"profile-img-input",attrs:{type:"file",id:"profile-user-avatar"},on:{change:t.uploadAvatarImg}}),s("button",{staticClass:"profile-menu-btn profile-name-btn",on:{click:t.toggleEditName}},[t._v("Edit username")]),t.isEditName?s("div",{staticClass:"profile-name-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userCopy.username,expression:"userCopy.username"}],staticClass:"profile-name-input",attrs:{type:"txt",name:"profile-user-name"},domProps:{value:t.userCopy.username},on:{input:function(e){e.target.composing||t.$set(t.userCopy,"username",e.target.value)}}}),s("button",{staticClass:"profile-save-btn",on:{click:t.updateUsername}},[t._v("Save")]),s("button",{staticClass:"profile-cancel-btn",on:{click:t.toggleEditName}},[t._v("Cancel")])]):t._e()])])])]):t._e()}),J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("span",{staticClass:"sign-tasky"},[t._v("my Profile")]),a("img",{staticClass:"sign-main-logo",attrs:{src:s("f535")}})])}],z=(s("fb6a"),s("d3b7"),{uploadImg:q});function q(t){var e="ramus",s="https://api.cloudinary.com/v1_1/".concat(e,"/image/upload"),a=new FormData;return a.append("file",t.target.files[0]),a.append("upload_preset","nhn1typb"),fetch(s,{method:"POST",body:a}).then((function(t){return t.json()})).then((function(t){return console.log(t),t.url})).catch((function(t){return console.error(t)}))}var F={data:function(){return{userCopy:null,isEditName:!1}},methods:{uploadAvatarImg:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,z.uploadImg(t);case 2:a=s.sent,e.userCopy.imgUrl=a,e.updateUser();case 5:case"end":return s.stop()}}),s)})))()},updateUsername:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updateUser();case 2:t.toggleEditName();case 3:case"end":return e.stop()}}),e)})))()},updateUser:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"updateUser",user:t.userCopy});case 2:s=e.sent,t.$store.commit({type:"setLoggedinUser",user:s});case 4:case"end":return e.stop()}}),e)})))()},toggleEditName:function(){this.isEditName=!this.isEditName}},created:function(){this.userCopy=JSON.parse(JSON.stringify(this.user)),console.log("this.userCopy",this.userCopy)},computed:{avatarTxt:function(){return this.user.username.slice(0,1).toUpperCase()}},props:{user:{type:Object}}},H=F,W=Object(u["a"])(H,A,J,!1,null,null,null),G=W.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-preview",style:{background:t.board.style.background},on:{click:function(e){return t.$router.push("/board/"+t.board._id)}}},[s("h3",{staticClass:"name"},[t._v(t._s(t.board.name))])])},K=[],V={props:{board:Object}},Q=V,X=Object(u["a"])(Q,Z,K,!1,null,null,null),Y=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"div-screen",on:{click:function(e){return t.$emit("closed")}}}),s("section",{ref:"createCmp",staticClass:"create-board",style:{background:t.newBoard.style.background}},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createBoard(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.name,expression:"newBoard.name"}],attrs:{placeholder:"Board title..",type:"text"},domProps:{value:t.newBoard.name},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"name",e.target.value)}}}),s("button",{staticClass:"save-btn"},[t._v("Create board")])]),s("button",{staticClass:"set-style-btn save-btn",on:{click:function(e){t.isColorOpen=!t.isColorOpen,t.isImgOpen=!1}}},[t._v("Background color")]),s("button",{staticClass:"set-style-btn save-btn",on:{click:function(e){t.isImgOpen=!t.isImgOpen,t.isColorOpen=!1}}},[t._v("Background image")]),t.isImgOpen?s("board-img-picker",{on:{closed:function(e){t.isImgOpen=!1},"set-board-img":t.setBg}}):t._e(),t.isColorOpen?s("board-color-picker",{on:{"set-board-color":t.setBg,closed:function(e){t.isImgOpen=!1}}}):t._e()],1)])},et=[],st=(s("99af"),s("bc3a")),at=s.n(st),nt=at.a.create({withCredentials:!0}),rt="/api/",it={get:function(t,e){return ot(t,"GET",e)},post:function(t,e){return ot(t,"POST",e)},put:function(t,e){return ot(t,"PUT",e)},delete:function(t,e){return ot(t,"DELETE",e)}};function ot(t){return ct.apply(this,arguments)}function ct(){return ct=Object(h["a"])(regeneratorRuntime.mark((function t(e){var s,a,n,r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=i.length>1&&void 0!==i[1]?i[1]:"get",a=i.length>2&&void 0!==i[2]?i[2]:null,t.prev=2,n={url:"".concat(rt).concat(e),method:s},"get"===s||"GET"===s?n.params={data:a}:n.data=a,t.next=7,nt(n);case 7:return r=t.sent,t.abrupt("return",r.data);case 11:if(t.prev=11,t.t0=t["catch"](2),401!==t.t0.response.status){t.next=16;break}throw console.log("Unautonticated"),new Error("Unautonticated");case 16:case"end":return t.stop()}}),t,null,[[2,11]])}))),ct.apply(this,arguments)}s("a434");var lt=s("2909"),ut=s("ab14"),dt=s.n(ut),mt={getRandom:ft,makeLorem:wt,makeId:ht,createWord:Tt,getHoursDifference:xt,getRandomColor:yt,scrollTo:jt,getEmptyChecklist:vt,getEmptyTodo:kt,getEmptyComment:bt,applyDrag:gt,expandTextArea:Ct,getRandomChartColors:_t},pt=[];function ft(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}function ht(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function gt(t,e){var s=e.removedIndex,a=e.addedIndex,n=e.payload;if(null===s&&null===a)return t;var r=Object(lt["a"])(t),i=n;return null!==s&&(i=r.splice(s,1)[0]),null!==a&&r.splice(a,0,i),r}function vt(){return{id:ht(),title:"Checklist",todos:[]}}function kt(){return{id:ht(),txt:"",isDone:!1}}function bt(){return{id:ht(),from:null,txt:"",createdAt:Date.now(),imgUrl:null}}function Ct(t){var e=200;t.style.height="",t.style.height=Math.min(t.scrollHeight,e)+"px"}function wt(t){var e="";while(e.length<t){var s=pt[ft(1,28)];e+=s+" "}return e=e[0].toUpperCase()+e.substr(1),e}function yt(){for(var t="0123456789ABCDEF",e="#",s=0;s<6;s++)e+=t[Math.floor(16*Math.random())];return e}function _t(){for(var t={fill:[],border:[]},e=0;e<30;e++){var s=yt(),a=dt()(s),n=dt()(s,.4);t.fill.push(n),t.border.push(a)}return t}function xt(t){var e=Date.now(),s=(t-e)/1e3,a=Math.floor(s/3600);return a}function Tt(t){var e="";while(e.length<t){var s=Ot();e+=s}return e}function Ot(){var t="abcdefghijklmnopqrstuvwxyz",e=parseInt(Math.random()*t.length);return t.charAt(e)}function Lt(){pt[1]="escapology",pt[2]="brightwork",pt[3]="verkrampte",pt[4]="protectrix",pt[5]="nudibranch",pt[6]="grandchild",pt[7]="newfangled",pt[8]="flugelhorn",pt[9]="mythologer",pt[10]="pluperfect",pt[11]="jellygraph",pt[12]="quickthorn",pt[13]="rottweiler",pt[14]="technician",pt[15]="cowpuncher",pt[16]="middlebrow",pt[17]="jackhammer",pt[18]="triphthong",pt[19]="wunderkind",pt[20]="dazzlement",pt[21]="jabberwock",pt[22]="witchcraft",pt[23]="pawnbroker",pt[24]="thumbprint",pt[25]="motorcycle",pt[26]="cryptogram",pt[27]="torchlight",pt[28]="bankruptcy"}function jt(t,e,s){var a=t.scrollLeft;if(!(0===a||e>0)||!(t.clientWidth+a===t.scrollWidth||e<0)){var n=function n(i){var o=i-r,c=Math.min(o/s,1);t.scrollLeft=a+e*c,o<s&&window.requestAnimationFrame(n)},r="now"in window.performance?performance.now():(new Date).getTime();window.requestAnimationFrame(n)}}Lt();s("8624");var $t="board",Mt={query:Dt,getById:It,remove:St,save:Bt,getEmptyBoard:Et,getEmptyList:Nt,getEmptyTask:Pt};function Dt(t){return it.get($t,t)}function It(t){return it.get("".concat($t,"/").concat(t))}function St(t){return it.delete("".concat($t,"/").concat(t))}function Bt(t){return t._id?it.put("".concat($t,"/").concat(t._id),t):it.post("".concat($t),t)}function Et(){return{name:"",style:{background:'url("/img/1.dcc8d602.jpg")'},activities:[],members:[],labels:[{color:"#61bd4f",txt:"",id:mt.makeId(7)},{color:"#f2d600",txt:"",id:mt.makeId(7)},{color:"#ff9f1a",txt:"",id:mt.makeId(7)},{color:"#eb5a46",txt:"",id:mt.makeId(7)},{color:"#c377e0",txt:"",id:mt.makeId(7)},{color:"#0079bf",txt:"",id:mt.makeId(7)},{color:"#00c2e0",txt:"",id:mt.makeId(7)}],taskLists:[{id:mt.makeId(7),name:"Planning",tasks:[]},{id:mt.makeId(7),name:"In Progress",tasks:[]},{id:mt.makeId(7),name:"Done",tasks:[]}]}}function Nt(){return{id:mt.makeId(7),name:"",tasks:[]}}function Pt(){return{id:mt.makeId(7),name:"",style:{bgColor:"default",color:"default"},members:[],labels:[],dueDate:{time:null,isCompleted:null},desc:"",attachments:[],checklist:null,comments:[]}}var Rt,Ut,At,Jt,zt,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-color-picker"},[s("button",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[s("i",{staticClass:"fas fa-arrow-left"})]),s("div",{staticClass:"colors-container"},[s("div",{staticClass:"color-card",style:{"background-color":"#0079bf"},on:{click:function(e){return t.setBoardColor("#0079bf")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#d29034"},on:{click:function(e){return t.setBoardColor("#d29034")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#519839"},on:{click:function(e){return t.setBoardColor("#519839")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#b04632"},on:{click:function(e){return t.setBoardColor("#b04632")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#89609e"},on:{click:function(e){return t.setBoardColor("#89609e")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#cd5a91"},on:{click:function(e){return t.setBoardColor("#cd5a91")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#4bbf6b"},on:{click:function(e){return t.setBoardColor("#4bbf6b")}}}),s("div",{staticClass:"color-card",style:{"background-color":"#00aecc"},on:{click:function(e){return t.setBoardColor("#00aecc")}}})])])},Ft=[],Ht={methods:{goBack:function(){this.$emit("closed")},setBoardColor:function(t){this.$emit("set-board-color",t)}}},Wt=Ht,Gt=Object(u["a"])(Wt,qt,Ft,!1,null,null,null),Zt=Gt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-img-picker"},[s("div",{staticClass:"img-container"},t._l(14,(function(e,a){return s("img",{staticClass:"img-card",attrs:{src:t.getImgUrl(a)},on:{click:function(e){return t.setBoardImage(a)}}})})),0),s("button",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[s("i",{staticClass:"fas fa-arrow-left"})])])},Vt=[],Qt={methods:{goBack:function(){this.$emit("closed")},getImgUrl:function(t){return s("0737")("./".concat(t,".jpg"))},setBoardImage:function(t){var e="url("+this.getImgUrl(t)+")";this.$emit("set-board-img",e)}}},Xt=Qt,Yt=Object(u["a"])(Xt,Kt,Vt,!1,null,null,null),te=Yt.exports,ee={data:function(){return{newBoard:null,isColorOpen:!1,isImgOpen:!1}},methods:{setBg:function(t){console.log(t),this.newBoard.style.background=t,this.$refs.createCmp.style["background"]=t},createBoard:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newBoard.name.length){e.next=2;break}return e.abrupt("return");case 2:return t.newBoard.members.push(t.$store.getters.loggedinUser),e.next=5,t.$store.dispatch({type:"createBoard",board:t.newBoard});case 5:s=e.sent,t.$emit("board-created",s),t.newBoard=Mt.getEmptyBoard();case 8:case"end":return e.stop()}}),e)})))()}},created:function(){this.newBoard=Mt.getEmptyBoard()},components:{boardColorPicker:Zt,boardImgPicker:te}},se=ee,ae=Object(u["a"])(se,tt,et,!1,null,null,null),ne=ae.exports,re={data:function(){return{newBoard:null,userCopy:null,isCreate:!1,isUserProfile:!1}},methods:{createBoard:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a={_id:t._id,name:t.name,style:t.style},e.userCopy.boards.push(a),s.next=4,e.$store.dispatch({type:"updateUser",user:e.userCopy});case 4:n=s.sent,e.$store.commit({type:"setLoggedinUser",user:n}),e.userCopy=JSON.parse(JSON.stringify(n)),e.isCreate=!1;case 8:case"end":return s.stop()}}),s)})))()},toggleUserProfile:function(){this.isUserProfile=!this.isUserProfile}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){var t=this;Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"getLoggedinUser"});case 2:t.userCopy=JSON.parse(JSON.stringify(t.loggedinUser));case 3:case"end":return e.stop()}}),e)})))()},components:{userProfile:G,boardPreview:Y,createBoard:ne}},ie=re,oe=Object(u["a"])(ie,R,U,!1,null,null,null),ce=oe.exports,le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("main",{staticClass:"board-app",style:{background:t.storeBoard.style.background}},[s("board-header",{on:{"update-style":t.updateStyle}}),s("div",{ref:"lists",staticClass:"lists-container"},[s("Container",{attrs:{"drag-handle-selector":".list-header",orientation:"horizontal","drop-placeholder":t.placeholderOpts,"drag-class":"list-dragging","drop-class":"list-dropping"},on:{drop:t.onDrop}},[t._l(t.taskLists,(function(e,a){return s("Draggable",{key:e.id},[e?s("task-list",{key:e.id,attrs:{taskList:e,listIdx:a},on:{"save-list":t.saveTaskList,"save-lists-order":t.saveListsOrder,"list-moved":t.moveList}}):t._e()],1)})),s("section",{staticClass:"add-list"},[s("transition",{attrs:{name:"fade"}},[t.newTaskList?t._e():s("button",{staticClass:"add-list-btn",on:{click:t.getEmptyList}},[s("i",{staticClass:"fas fa-plus plus-icon"}),s("span",[t._v("Add List")])])]),s("transition",{attrs:{name:"fade"}},[t.newTaskList?s("form",{staticClass:"add-list",on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isListSaved=!1},submit:function(e){return e.preventDefault(),t.addList(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTaskList.name,expression:"newTaskList.name"}],ref:"listInput",staticClass:"add-list-input",attrs:{type:"text",placeholder:"List title.."},domProps:{value:t.newTaskList.name},on:{blur:t.blurAddList,input:function(e){e.target.composing||t.$set(t.newTaskList,"name",e.target.value)}}}),s("div",{staticClass:"btns"},[s("button",{ref:"addListBtn",staticClass:"add-list-inner-btn"},[t._v("Add")]),s("button",{staticClass:"close-btn",on:{click:function(e){t.newTaskList=null}}},[s("i",{staticClass:"fas fa-times"})])])]):t._e()])],1)],2)],1),!t.isTaskLoad&&t.isTaskDetailsOpen?s("task-details",{on:{"move-task":t.moveTask}}):t._e()],1):t._e()},ue=[],de=(s("7db0"),s("c740"),s("4160"),s("d81d"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"board-header"},[s("div",{staticClass:"board-data-container"},[s("span",{staticClass:"board-name"},[t._v(t._s(t.currBoard.name))])]),s("div",{staticClass:"members"},t._l(t.currBoard.members,(function(e){return s("user-avatar",{key:e._id,attrs:{user:e},on:{"member-removed":t.removeMember}})})),1),s("div",{staticClass:"board-nav"},[s("button",{staticClass:"nav-menu-btn",on:{click:function(e){t.isInvite=!t.isInvite}}},[s("i",{staticClass:"fas fa-user-plus"})]),s("button",{staticClass:"nav-menu-btn",on:{click:t.toggleMenu}},[s("i",{staticClass:"fas fa-bars"})])]),s("transition",{attrs:{name:"fade"}},[t.isInvite?s("invite-members",{on:{closed:function(e){t.isInvite=!1}}}):t._e()],1),s("boardMenu",{class:t.openMenuClass,on:{closed:function(e){t.isMenuOpen=!1},"update-style":t.updateStyle}})],1)}),me=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("menu",{staticClass:"board-menu"},[t._m(0),t.isMenuOpen.main?s("div",{staticClass:"menu"},[s("div",{staticClass:"menu-btn-container"},[s("button",{staticClass:"menu-btn",on:{click:function(e){return t.openMenu("boardStyle")}}},[s("i",{staticClass:"far fa-image btn-icon"}),s("span",{staticClass:"btn-txt"},[t._v("Board Styling")])]),s("button",{staticClass:"menu-btn",on:{click:function(e){return t.openMenu("statistic")}}},[s("i",{staticClass:"fas fa-chart-line btn-icon"}),s("span",{staticClass:"btn-txt"},[t._v("Show Board Stats")])])]),s("div",{staticClass:"activities"},[t._m(1),s("board-activities",{attrs:{activities:t.boardActivities}})],1)]):t._e(),t.isMenuOpen.boardStyle?s("boardStyleMenu",{on:{closed:function(e){return t.closeMenu("boardStyle")},"update-style":t.updateStyle}}):t._e(),t.isMenuOpen.statistic?s("boardStatistic",{on:{closed:function(e){return t.closeMenu("statistic")},"update-style":t.updateStyle}}):t._e(),t.isMenuOpen.main?s("button",{staticClass:"close-btn",on:{click:t.goBack}},[s("i",{staticClass:"fas fa-times"})]):t._e()],1)},fe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu-header"},[s("span",[t._v("Menu")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("i",{staticClass:"far fa-list-alt title-icon"}),s("span",{staticClass:"title-txt"},[t._v("Activities")])])}],he=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-style-menu"},[t.isMenuOpen.main?s("div",[s("div",{staticClass:"btn color-picker-btn center-flex",style:{backgroundImage:t.bgColorImg()},on:{click:t.openColorPicker}},[s("h3",{staticClass:"txt-btn"},[t._v("Colors")])]),s("div",{staticClass:"btn img-picker-btn center-flex",style:{backgroundImage:t.bgImg()},on:{click:t.openImgPicker}},[s("h3",{staticClass:"txt-btn"},[t._v("Images")])])]):t._e(),t.isMenuOpen.colorPicker?s("boardColorPicker",{on:{closed:t.closeColorPicker,"set-board-color":t.updateStyle}}):t._e(),t.isMenuOpen.imgPicker?s("boardImgPicker",{on:{closed:t.closeImgPicker,"set-board-img":t.updateStyle}}):t._e(),t.isMenuOpen.main?s("button",{staticClass:"close-btn",on:{click:t.goBack}},[s("i",{staticClass:"fas fa-arrow-left"})]):t._e()],1)},ge=[],ve={data:function(){return{isMenuOpen:{main:!0,colorPicker:!1,imgPicker:!1}}},methods:{bgColorImg:function(){return"url("+s("a9c4")+")"},bgImg:function(){return"url("+s("41f2")+")"},openColorPicker:function(){this.isMenuOpen.main=!1,this.isMenuOpen.colorPicker=!0},closeColorPicker:function(){this.isMenuOpen.main=!0,this.isMenuOpen.colorPicker=!1},openImgPicker:function(){this.isMenuOpen.main=!1,this.isMenuOpen.imgPicker=!0},closeImgPicker:function(){this.isMenuOpen.imgPicker=!1,this.isMenuOpen.main=!0},goBack:function(){this.$emit("closed")},updateStyle:function(t){this.$emit("update-style",t)}},components:{boardColorPicker:Zt,boardImgPicker:te}},ke=ve,be=Object(u["a"])(ke,he,ge,!1,null,null,null),Ce=be.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-statistic"},[s("listChart",{staticClass:"task-list-chart",attrs:{chartData:t.taskListsChart.chartData,options:t.taskListsChart.options}}),s("labelChart",{staticClass:"label-chart",attrs:{chartData:t.taskLabelsChart.chartData,options:t.taskLabelsChart.options}}),s("button",{staticClass:"close-btn",on:{click:t.goBack}},[s("i",{staticClass:"fas fa-arrow-left"})])],1)},ye=[],_e=(s("cb29"),s("13d5"),s("b64b"),s("1fca")),xe=_e["c"].reactiveProp,Te={extends:_e["b"],mixins:[xe],mounted:function(){this.renderChart(this.chartData,this.options)},props:{options:{type:Object,default:null}}},Oe=Te,Le=Object(u["a"])(Oe,Rt,Ut,!1,null,null,null),je=Le.exports,$e=_e["c"].reactiveProp,Me={extends:_e["a"],mixins:[$e],mounted:function(){this.renderChart(this.chartData,this.options)},created:function(){console.log("label-cmp",this.chartData,this.options)},props:{options:{type:Object}}},De=Me,Ie=Object(u["a"])(De,At,Jt,!1,null,null,null),Se=Ie.exports,Be={data:function(){return{listsChartColors:{fill:null,border:null},labelsChartColors:{fill:null,border:null}}},computed:{taskListsChart:function(){return{chartData:{labels:this.listsNames,datasets:[{data:this.listsTasksCount,backgroundColor:this.listsChartColors.fill,borderColor:this.listsChartColors.border,borderWidth:1}]},options:{legend:{position:"top",align:"start"},title:{display:!0,text:"List Popularity",fontSize:18},tooltips:{titleFontSize:15,bodyFontSize:13,callbacks:{label:function(t,e,s){var a=t.index;return e.labels[a]+": "+e.datasets[0].data[a]+" Tasks"}}}}}},taskLabelsChart:function(){return{chartData:{labels:this.labelsName,datasets:[{label:"Label",data:this.labelsBoardCount,backgroundColor:this.labelsChartColors.fill,borderColor:this.labelsChartColors.border,borderWidth:1}]},options:{title:{display:!0,text:"Labels Distribution",fontSize:27},tooltips:{titleFontSize:20,bodyFontSize:20,callbacks:{label:function(t,e,s){var a=t.index;return e.datasets[0].data[a]+" Apparitions"}}},responsive:!1,scales:{xAxes:[{barPercentage:.9,ticks:{beginAtZero:!0}}],yAxes:[{ticks:{beginAtZero:!0}}]}}}},currBoard:function(){return this.$store.getters.currBoard},labelsName:function(){return this.boardLabels.map((function(t,e){return t.txt?t.txt:"label "+(e+1)}))},boardLabels:function(){return this.$store.getters.labels},labelsBoardCount:function(){var t=this.$store.getters.boardTasks,e=t.reduce((function(t,e){return e.labels.forEach((function(e){t[e.id]?t[e.id]++:t[e.id]=1})),t}),{}),s=Object.keys(e),a=this.currBoard.labels.map((function(t){var a=!1;return s.forEach((function(e){t.id===e&&(a=!0)})),a?e[t.id]:0}));return a},listsNames:function(){return this.currBoard.taskLists.map((function(t){return t.name}))},listsTasksCount:function(){return this.currBoard.taskLists.map((function(t){return t.tasks.length}))}},methods:{goBack:function(){this.$emit("closed")},setListsChartColors:function(){var t=mt.getRandomChartColors();this.listsChartColors=t},setLabelsChartColors:function(){var t=this.boardLabels.map((function(t){return t.color}));this.labelsChartColors.border=t.map((function(t){return dt()(t)})),this.labelsChartColors.fill=t.map((function(t){return dt()(t,.7)}))}},created:function(){this.setListsChartColors(),this.setLabelsChartColors(),console.log(this.labelsChartColors),console.log(this.labelsBoardCount),console.log(this.labelsName)},components:{listChart:je,labelChart:Se}},Ee=Be,Ne=Object(u["a"])(Ee,we,ye,!1,null,null,null),Pe=Ne.exports,Re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-activities"},t._l(t.activities,(function(t){return s("user-activity",{attrs:{activity:t}})})),1)},Ue=[],Ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-activity"},[s("div",{staticClass:"from-operation"},[s("user-avatar",{attrs:{user:t.activity.from}}),s("div",{staticClass:"operation"},[s("span",{staticClass:"user-name"},[t._v(t._s(t.activity.from.username))]),t._v(" "+t._s(t.activity.operation))])],1),t.activity.taskId?s("router-link",{staticClass:"task-link",attrs:{to:"/board/"+t.currBoardId+"/task/"+t.activity.taskId}},[t._v("Visit now")]):t._e(),s("div",{staticClass:"time"},[t._v(t._s(t._f("dateAgo")(t.activity.createdAt)))])],1)},Je=[],ze=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar"},[s("div",{staticClass:"user-avatar center-flex",style:{background:t.background}},[t._v(t._s(t.avatarTxt))]),s("img",{staticClass:"remove-img",attrs:{src:t.imgUrl,alt:""},on:{click:function(e){return t.removeMember(t.user._id)}}}),s("div",[s("img",{staticClass:"remove-img",attrs:{src:t.imgUrl,alt:""},on:{click:function(e){return t.$emit("member-removed",t.user._id)}}})])])},qe=[],Fe={computed:{avatarTxt:function(){return this.user.imgUrl?"":this.user.username.slice(0,1).toUpperCase()},background:function(){return this.user.imgUrl?'url("'.concat(this.user.imgUrl,'")'):this.user.avatarColor?this.user.avatarColor:mt.getRandomColor()},imgUrl:function(){return s("5e54")}},props:{user:Object}},He=Fe,We=Object(u["a"])(He,ze,qe,!1,null,null,null),Ge=We.exports,Ze={computed:{currBoardId:function(){return this.$store.getters.currBoard._id}},props:{activity:Object},components:{userAvatar:Ge}},Ke=Ze,Ve=Object(u["a"])(Ke,Ae,Je,!1,null,null,null),Qe=Ve.exports,Xe={props:{activities:Array},components:{userActivity:Qe}},Ye=Xe,ts=Object(u["a"])(Ye,Re,Ue,!1,null,null,null),es=ts.exports,ss={data:function(){return{isMenuOpen:{main:!0,boardStyle:!1,statistic:!1}}},methods:{openMenu:function(t){this.isMenuOpen.main=!1,this.isMenuOpen[t]=!0},closeMenu:function(t){this.isMenuOpen[t]=!1,this.isMenuOpen.main=!0},updateStyle:function(t){this.$emit("update-style",t)},goBack:function(){this.$emit("closed")}},computed:{boardActivities:function(){return this.$store.getters.currBoard.activities}},watch:{$route:function(){this.goBack()}},components:{boardStyleMenu:Ce,boardStatistic:Pe,boardActivities:es}},as=ss,ns=Object(u["a"])(as,pe,fe,!1,null,null,null),rs=ns.exports,is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"invite-members"},[s("header",[t._m(0),s("div",{staticClass:"close-btn",on:{click:function(e){return t.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search",attrs:{placeholder:"User name or email",type:"text"},domProps:{value:t.searchStr},on:{input:[function(e){e.target.composing||(t.searchStr=e.target.value)},t.searchUsers]}}),s("div",{staticClass:"members-container"},t._l(t.searchRes,(function(e){return s("div",{staticClass:"member",on:{click:function(s){return t.addMember(e)}}},[s("user-avatar",{attrs:{user:e}}),s("div",{staticClass:"name"},[t._v(t._s(e.username))])],1)})),0)])},os=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("i",{staticClass:"fas fa-user-plus"}),t._v(" Invite members")])}],cs=(s("4de4"),new a["default"]),ls="remove-list",us="move-task-event",ds="add-board-member",ms="remove-board-member",ps="update-board-labels",fs="add-board-activity",hs="board-labels-saved",gs={data:function(){return{searchStr:"",searchRes:""}},methods:{searchUsers:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadUsers",searchStr:t.searchStr});case 2:s=e.sent,a=s.filter((function(e){var s=e.boards.find((function(e){return e._id===t.currBoard._id}));return!s})),t.searchRes=a;case 5:case"end":return e.stop()}}),e)})))()},addMember:function(t){var e=JSON.parse(JSON.stringify(t));e.boards.push({_id:this.currBoard._id,style:this.currBoard.style,name:this.currBoard.name}),this.$store.dispatch({type:"updateUser",user:e}),cs.$emit(ds,t)}},computed:{currBoard:function(){return this.$store.getters.currBoard}},watch:{"currBoard.members":function(){this.searchUsers()}},created:function(){this.searchUsers()},components:{userAvatar:Ge}},vs=gs,ks=Object(u["a"])(vs,is,os,!1,null,null,null),bs=ks.exports,Cs={data:function(){return{isMenuOpen:!1,isInvite:!1}},computed:{currBoard:function(){return this.$store.getters.currBoard},openMenuClass:function(){return this.isMenuOpen?"open-menu":""}},methods:{toggleMenu:function(){this.isMenuOpen=!this.isMenuOpen},updateStyle:function(t){this.$emit("update-style",t)},removeMember:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"loadUsers"});case 2:if(a=s.sent,n=a.find((function(e){return e._id===t})),n){s.next=6;break}return s.abrupt("return");case 6:r=n.boards.findIndex((function(t){return t._id===e.$store.getters.currBoard._id})),n.boards.splice(r,1),e.$store.dispatch({type:"updateUser",user:n}),cs.$emit(ms,t);case 10:case"end":return s.stop()}}),s)})))()}},components:{boardMenu:rs,inviteMembers:bs,userAvatar:Ge}},ws=Cs,ys=Object(u["a"])(ws,de,me,!1,null,null,null),_s=ys.exports,xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.taskList?s("section",{staticClass:"task-list"},[t.isEditName?s("section",{staticClass:"edit-list-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.listCopy.name,expression:"listCopy.name"}],ref:"listNameInput",staticClass:"list-input",attrs:{type:"text",draggable:"false"},domProps:{value:t.listCopy.name},on:{click:function(e){t.isEditName=!0},change:t.saveListName,blur:t.saveListName,input:function(e){e.target.composing||t.$set(t.listCopy,"name",e.target.value)}}}),s("button",{staticClass:"list-menu-btn",on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}},[s("i",{staticClass:"menu-icon fas fa-ellipsis-h"})]),t.isMenuOpen?s("div",{staticClass:"screen-trans",on:{click:function(e){t.isMenuOpen=!1}}}):t._e(),t.isMenuOpen?s("list-menu",{attrs:{listId:t.taskList.id},on:{"add-task":t.getEmptyTask,"list-moved":t.moveList,clicked:function(e){t.isMenuOpen=!1}}}):t._e()],1):s("header",{staticClass:"list-header"},[t.isEditName?t._e():s("h3",{staticClass:"list-name",on:{click:t.editListName}},[t._v(t._s(t.taskList.name))]),s("button",{staticClass:"list-menu-btn",on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}},[s("i",{staticClass:"menu-icon fas fa-ellipsis-h"})]),t.isMenuOpen?s("list-menu",{attrs:{listId:t.taskList.id},on:{"add-task":function(e){t.getEmptyTask(),t.isMenuOpen=!1},"list-moved":t.moveList,clicked:function(e){t.isMenuOpen=!1}}}):t._e()],1),s("main",{ref:"tasks",staticClass:"tasks",attrs:{id:t.taskList.id}},[s("Container",{attrs:{"drag-begin-delay":t.delayDrag,"group-name":"tasks","drag-handle-selector":".task-preview","get-child-payload":t.getTaskPayload(t.taskList.id),"drag-class":"task-dragging","drop-class":"task-dropping"},on:{drop:t.onDrop,"drag-end":t.onDragEnd}},t._l(t.tasks,(function(e){return s("Draggable",{key:e.id,staticClass:"preview-wrapper"},[s("task-preview",{attrs:{task:e,listId:t.taskList.id,elTasks:t.$refs.tasks},on:{"remove-task":t.removeTask,"update-task":t.saveTask}})],1)})),1),s("transition",{attrs:{name:"fade"}},[t.newTask?s("form",{staticClass:"add-task",on:{submit:function(e){return e.preventDefault(),t.addTask(e)},keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],ref:"taskInput",staticClass:"new-task-box",attrs:{cols:"30",rows:"3",placeholder:"Task name"},domProps:{value:t.newTask.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.addTask(e))},blur:t.blurTask,input:function(e){e.target.composing||t.$set(t.newTask,"name",e.target.value)}}}),s("button",{ref:"addTaskBtn",attrs:{hidden:""}},[t._v("Add")])]):t._e()])],1),s("footer",[t.newTask?s("section",{staticClass:"new-task-btns"},[s("button",{ref:"sendTaskForm",staticClass:"add-task-btn inner",on:{click:function(e){return t.$refs.addTaskBtn.click()}}},[t._v("Add")]),s("button",{staticClass:"close-btn",on:{click:function(e){e.preventDefault(),t.newTask=null}}},[s("i",{staticClass:"fas fa-times"})])]):s("button",{staticClass:"add-task-btn",on:{click:t.getEmptyTask}},[s("i",{staticClass:"fas fa-plus"}),t._v(" Add Task ")])])]):t._e()},Ts=[],Os=(s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.isMenuOpen?s("task-menu",{attrs:{task:t.task,listId:t.listId,menu:t.$refs.pMenuBtn,isScroll:t.isScroll},on:{"remove-task":function(e){return t.$emit("remove-task",t.task.id)},"set-labels":t.updateTask,"set-name":t.updateTask,"set-due-date":t.updateTask,clicked:t.closeMenu,closed:function(e){t.isMenuOpen=!1},"add-member":t.updateTask},nativeOn:{click:function(t){t.stopPropagation()}}}):t._e(),s("section",{staticClass:"task-preview",on:{click:t.taskDetailsPage}},[s("button",{ref:"pMenuBtn",staticClass:"preview-menu-btn",on:{click:t.openMenu}},[s("i",{staticClass:"fas fa-pencil-alt"})]),s("label-preview",{attrs:{labels:t.task.labels}}),t.task.attachments.length?s("img",{staticClass:"preview-img",attrs:{src:t.task.attachments[0]}}):t._e(),s("p",{staticClass:"preview-title"},[t._v(t._s(t.task.name))]),s("dataIndicationPreview",{attrs:{task:t.task}})],1)],1)}),Ls=[],js=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-preview"},t._l(t.labels,(function(e){return s("div",{staticClass:"label-card",class:t.labelClass,style:{"background-color":e.color},on:{click:function(e){return e.stopPropagation(),t.toggleMini(e)}}},[t._v(" "+t._s(t.labelText(e))+" ")])})),0)},$s=[],Ms={methods:{toggleMini:function(){this.$store.commit({type:"toggleMiniLabals"})},labelText:function(t){return this.isMini?"":t.txt}},computed:{isMini:function(){return this.$store.getters.isLabelsMini},labelClass:function(){return this.isMini?"mini-label":""}},props:{labels:Array}},Ds=Ms,Is=Object(u["a"])(Ds,js,$s,!1,null,null,null),Ss=Is.exports,Bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isDataIndication?s("div",{staticClass:"preview-data"},[s("section",{staticClass:"preview-indications"},[t.task.dueDate.time?s("due-date-preview",{staticClass:"preview-due-date",attrs:{dueDate:t.task.dueDate}}):t._e(),t.task.desc?s("div",{staticClass:"preview-desc"},[s("i",{staticClass:"fas fa-align-left"})]):t._e(),t.task.comments.length?s("div",{staticClass:"preview-comments"},[s("i",{staticClass:"far fa-comment"}),t._v(" "+t._s(t.task.comments.length)+" ")]):t._e(),t.task.checklist?s("div",{staticClass:"preview-check-list"},[s("i",{staticClass:"far fa-check-square"}),s("span",{staticClass:"check-list-txt"},[t._v(t._s(t.checklistStatus))])]):t._e(),t.task.attachments.length?s("div",{staticClass:"preview-attachments"},[s("i",{staticClass:"fas fa-paperclip"}),t._v(" "+t._s(t.task.attachments.length)+" ")]):t._e()],1),t.task.members.length?s("section",{staticClass:"preview-members"},t._l(t.task.members,(function(t){return s("user-avatar",{key:t._id,attrs:{user:t}})})),1):t._e()]):t._e()},Es=[],Ns=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"due-date-preview-container",style:{"background-color":this.bgColor,color:this.color}},[s("div",{staticClass:"due-date-preview center-flex"},[t.dueDate.isCompleted?s("span",[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"due-date-txt"},[t._v("Done")])]):s("span",[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"due-date-txt"},[t._v(t._s(t._f("minimalDate")(this.dueDate.time)))])])])])},Ps=[],Rs={computed:{bgColor:function(){if(this.dueDate.isCompleted)return"#61bd4f";var t=this.hourfLeft,e=t<0?"#eb5a46":t<5?"#ff9f1a":t<48?"#f2d600":"transparent";return e},color:function(){return this.hourfLeft>48?"inherit":"#fff"},hourfLeft:function(){return mt.getHoursDifference(this.dueDate.time)}},props:{dueDate:Object}},Us=Rs,As=Object(u["a"])(Us,Ns,Ps,!1,null,null,null),Js=As.exports,zs={computed:{checklistStatus:function(){var t=this.task.checklist.todos,e=t.filter((function(t){return t.isDone})).length,s=t.length;return e+"/"+s},isDataIndication:function(){var t=this.task;return t.dueDate.time||t.desc||t.comments.length||t.attachments.length||t.checklist||t.members.length}},components:{dueDatePreview:Js,userAvatar:Ge},props:{task:Object}},qs=zs,Fs=Object(u["a"])(qs,Bs,Es,!1,null,null,null),Hs=Fs.exports,Ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"div-screen",on:{click:function(e){e.stopPropagation(),t.$emit("clicked",t.taskCopy),t.updateCopy()}}}),t.task?s("section",{ref:"taskMenu",staticClass:"task-menu"},[s("div",{staticClass:"card-container"},[s("div",{staticClass:"card-details"},[s("label-preview",{attrs:{labels:t.task.labels}}),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.taskCopy.name,expression:"taskCopy.name"}],ref:"editTaskName",staticClass:"menu-task-name",attrs:{type:"text"},domProps:{value:t.taskCopy.name},on:{input:[function(e){e.target.composing||t.$set(t.taskCopy,"name",e.target.value)},t.expand]}}),s("data-indication-preview",{attrs:{task:t.task}})],1),s("button",{staticClass:"save-name-btn",on:{click:function(e){return e.stopPropagation(),t.setName(e)}}},[t._v("Save")])]),s("menu",{staticClass:"editor-buttons",class:t.btnsClass},[s("button",{staticClass:"task-menu-item",on:{click:function(e){e.stopPropagation(),t.isMenuOpen.label=!t.isMenuOpen.label}}},[s("i",{staticClass:"fas fa-tag"}),s("span",{staticClass:"menu-btn-txt"},[t._v("Labels")])]),s("button",{staticClass:"task-menu-item",on:{click:function(e){e.stopPropagation(),t.isMenuOpen.move=!t.isMenuOpen.move}}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"}),s("span",{staticClass:"menu-btn-txt"},[t._v("Move")])]),s("button",{staticClass:"task-menu-item",on:{click:function(e){e.stopPropagation(),t.isMenuOpen.members=!t.isMenuOpen.members}}},[s("i",{staticClass:"fas fa-user-plus",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"menu-btn-txt"},[t._v("Members")])]),s("button",{staticClass:"task-menu-item",on:{click:function(e){return e.stopPropagation(),t.openDueDate(e)}}},[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"menu-btn-txt"},[t._v("Change Due Date")])]),s("button",{staticClass:"task-menu-item",on:{click:function(e){return e.stopPropagation(),t.$emit("remove-task")}}},[s("i",{staticClass:"far fa-trash-alt"}),s("span",{staticClass:"menu-btn-txt"},[t._v("Remove")])]),s("div",{ref:"pickersContainer",staticClass:"pickers-container"},[t.isMenuOpen.members?s("add-member",{attrs:{task:t.task},on:{"add-task-member":t.addMember,closed:function(e){t.isMenuOpen.members=!1}}}):t._e(),t.isMenuOpen.label?s("labelPicker",{staticClass:"label-picker",attrs:{taskLabels:t.task.labels},on:{"set-labels":t.setLabels,"close-picker":function(e){t.isMenuOpen.label=!1}}}):t._e(),t.isMenuOpen.move?s("move-picker",{staticClass:"move-picker",attrs:{optionalLists:t.optionalLists},on:{"close-picker":function(e){t.isMenuOpen.move=!1},input:t.moveTask},model:{value:t.moveToList,callback:function(e){t.moveToList=e},expression:"moveToList"}}):t._e(),s("div",{staticClass:"block"},[s("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen.dueDate,expression:"isMenuOpen.dueDate"}],ref:"calendar",staticClass:"el-date-picker",attrs:{type:"datetime",format:"MMM dd hh:mm A","value-format":"timestamp",placeholder:"Select date and time",size:"mini"},on:{change:t.setDueDate},model:{value:t.taskCopy.dueDate.time,callback:function(e){t.$set(t.taskCopy.dueDate,"time",e)},expression:"taskCopy.dueDate.time"}})],1)],1)])]):t._e()])},Gs=[],Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"move-picker"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.emitListId(e)}}},[s("span",{staticClass:"title"},[t._v("Move Task")]),s("span",{staticClass:"dest"},[t._v("Select destination")]),s("v-select",{staticClass:"move-selector",attrs:{options:t.optionalLists,label:"name",placeholder:"Select List"},on:{input:t.setSelected}}),s("br"),s("button",{staticClass:"move-task-btn"},[t._v("Move")])],1),s("button",{staticClass:"close",on:{click:function(e){return t.$emit("close-picker")}}},[s("i",{staticClass:"fas fa-times"})])])},Ks=[],Vs=s("4a7a"),Qs=s.n(Vs),Xs={data:function(){return{pickedListId:this.value}},methods:{emitListId:function(){this.pickedListId&&this.$emit("input",this.pickedListId)},moveTask:function(){this.$emit("move-task")},setSelected:function(t){this.pickedListId=t?t.id:null}},components:{vSelect:Qs.a},props:{value:String,optionalLists:Array}},Ys=Xs,ta=Object(u["a"])(Ys,Zs,Ks,!1,null,null,null),ea=ta.exports,sa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-picker-container"},[s("h4",{staticClass:"label-header"},[t._v("Labels")]),s("div",{staticClass:"label-container"},t._l(t.boardLabels,(function(e){return s("label-card",{key:e.id,attrs:{label:e,isCheck:t.checkLabel(e)},on:{"update-board-label":t.updateBoardLabels,"update-task-label":t.editTaskLabels}})})),1),s("button",{staticClass:"close-btn",on:{click:t.closePicker}},[s("i",{staticClass:"fas fa-times"})])])},aa=[],na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-card-cmp"},[s("div",{staticClass:"label-card",style:{"background-color":t.label.color},on:{click:function(e){return e.stopPropagation(),t.toggleTaskLabel(e)}}},[t.isEdit?s("form",{staticClass:"edit-label-name",on:{submit:function(e){return e.preventDefault(),t.editBoardLabel(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedLabel.txt,expression:"editedLabel.txt"}],ref:"editLabelImput",staticClass:"label-name-input",attrs:{type:"text",placeholder:"Label name"},domProps:{value:t.editedLabel.txt},on:{blur:t.blurEditLabel,input:function(e){e.target.composing||t.$set(t.editedLabel,"txt",e.target.value)}}})]):s("span",[t._v(t._s(t.label.txt))]),t.isCheck?s("span",{staticClass:"check-icon"},[s("i",{staticClass:"fas fa-check"})]):t._e()]),s("button",{staticClass:"label-edit-btn",on:{click:function(e){return e.stopPropagation(),t.toggleEdit(e)}}},[s("i",{staticClass:"fas fa-pencil-alt"})])])},ra=[],ia={data:function(){return{editedLabel:null,isEdit:!1}},methods:{editBoardLabel:function(){this.$emit("update-board-label",this.editedLabel),this.isEdit=!1,this.editedLabel=JSON.parse(JSON.stringify(this.label))},toggleTaskLabel:function(){this.isEdit||this.$emit("update-task-label",this.label)},blurEditLabel:function(){var t=this;setTimeout((function(){t.editedLabel=JSON.parse(JSON.stringify(t.label))}),5)},toggleEdit:function(){var t=this;this.isEdit=!this.isEdit,this.isEdit&&setTimeout((function(){t.$refs.editLabelImput.select()}),5)}},created:function(){this.editedLabel=JSON.parse(JSON.stringify(this.label))},props:{label:Object,isCheck:Boolean}},oa=ia,ca=Object(u["a"])(oa,na,ra,!1,null,null,null),la=ca.exports,ua={data:function(){return{editedTaskLabels:null,isOnEditMode:{},editedBoardLabels:null}},methods:{editTaskLabels:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.taskLabels.findIndex((function(e){return e.id===t.id})),-1!==a?e.editedTaskLabels.splice(a,1):e.editedTaskLabels.push(t),s.next=4,e.emit("set-labels",e.editedTaskLabels);case 4:e.editedTaskLabels=JSON.parse(JSON.stringify(e.taskLabels));case 5:case"end":return s.stop()}}),s)})))()},updateBoardLabels:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=e.editedBoardLabels.findIndex((function(e){return e.id===t.id})),-1!==a){s.next=3;break}return s.abrupt("return");case 3:e.editedBoardLabels.splice(a,1,t),cs.$emit(ps,e.editedBoardLabels);case 5:case"end":return s.stop()}}),s)})))()},emit:function(t,e){var s=this;return new Promise((function(a,n){s.$emit(t,e),s.$nextTick(a)}))},busEmit:function(t,e){return new Promise((function(s,a){cs.$emit(t,e),cs.$nextTick(s)}))},checkLabel:function(t){var e=this.taskLabels.find((function(e){return e.id===t.id}));return!!e},closePicker:function(){this.$emit("close-picker")},updateCopy:function(t){this.editedBoardLabels=JSON.parse(JSON.stringify(t)),this.editedTaskLabels=JSON.parse(JSON.stringify(this.taskLabels)),this.$emit("set-labels",this.editedTaskLabels)}},computed:{boardLabels:function(){return this.$store.getters.labels}},created:function(){this.editedTaskLabels=JSON.parse(JSON.stringify(this.taskLabels)),this.editedBoardLabels=JSON.parse(JSON.stringify(this.boardLabels)),cs.$on(hs,this.updateCopy)},destroyed:function(){cs.$off(hs,this.updateCopy)},props:{taskLabels:Array},components:{labelCard:la}},da=ua,ma=Object(u["a"])(da,sa,aa,!1,null,null,null),pa=ma.exports,fa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"invite-members"},[s("header",[t._m(0),s("div",{staticClass:"close-btn",on:{click:function(e){return t.$emit("closed")}}},[s("i",{staticClass:"fas fa-times"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search",attrs:{placeholder:"Search member",type:"text"},domProps:{value:t.searchStr},on:{input:[function(e){e.target.composing||(t.searchStr=e.target.value)},t.searchUsers]}}),s("div",{staticClass:"members-container"},t._l(t.searchRes,(function(e){return s("div",{staticClass:"member",on:{click:function(s){return t.addMember(e)}}},[s("user-avatar",{attrs:{user:e}}),s("div",{staticClass:"name"},[t._v(t._s(e.username))])],1)})),0)])},ha=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("i",{staticClass:"fas fa-user-plus"}),t._v(" Add task members")])}],ga={data:function(){return{searchStr:"",searchRes:""}},methods:{searchUsers:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s=t.boardMembers.filter((function(e){var s=!1;return t.task.members.forEach((function(t){t._id===e._id&&(s=!0)})),!s})),t.searchRes=s;case 2:case"end":return e.stop()}}),e)})))()},addMember:function(t){this.$emit("add-task-member",t)}},computed:{boardMembers:function(){return this.$store.getters.currBoard.members}},watch:{"task.members":function(){this.searchUsers()}},created:function(){this.searchUsers()},props:{task:Object},components:{userAvatar:Ge}},va=ga,ka=Object(u["a"])(va,fa,ha,!1,null,null,null),ba=ka.exports,Ca={data:function(){return{isMenuOpen:{move:!1,label:!1,dueDate:!1,members:!1},moveToList:null,taskCopy:null}},methods:{moveTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,cs.$emit(us,{toListId:t.moveToList,taskId:t.task.id});case 2:cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"moved task "+'"'.concat(t.task.name,'"')}),t.updateCopy();case 4:case"end":return e.stop()}}),e)})))()},setLabels:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.taskCopy.labels=t,s.next=3,e.emit("set-labels",e.taskCopy);case 3:cs.$emit(fs,{from:e.loggedinUser,createdAt:Date.now(),taskId:e.task.id,operation:"set task labels for "+'"'.concat(e.task.name,'"')}),e.updateCopy();case 5:case"end":return s.stop()}}),s)})))()},setName:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.emit("set-name",t.taskCopy);case 2:cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"changed task name from "+'"'.concat(t.task.name,'"')+" to "+'"'.concat(t.taskCopy.name,'"')}),t.updateCopy(),t.$emit("closed");case 5:case"end":return e.stop()}}),e)})))()},setDueDate:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.emit("set-due-date",t.taskCopy);case 2:cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"set due date for task "+'"'.concat(t.task.name,'"')}),t.updateCopy();case 4:case"end":return e.stop()}}),e)})))()},addMember:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.taskCopy.members.push(t),s.next=3,e.emit("add-member",e.taskCopy);case 3:cs.$emit(fs,{from:e.loggedinUser,createdAt:Date.now(),taskId:e.task.id,operation:"added "+'"'.concat(t.username,'"')+" to "+'"'.concat(e.task.name,'"')}),e.updateCopy();case 5:case"end":return s.stop()}}),s)})))()},openDueDate:function(){var t=this;this.isMenuOpen.dueDate=!this.isMenuOpen.dueDate,setTimeout((function(){t.$refs.calendar.focus()}),0)},expand:function(){mt.expandTextArea(this.$refs.editTaskName)},updateCopy:function(){this.taskCopy=JSON.parse(JSON.stringify(this.task))},emit:function(t,e){var s=this;return new Promise((function(a,n){s.$emit(t,e),s.$nextTick(a)}))}},computed:{optionalLists:function(){var t=this,e=this.$store.getters.taskLists;return e.filter((function(e){return e.id!==t.listId}))},boardLabels:function(){return this.$store.getters.labels},btnsClass:function(){return this.menu.getBoundingClientRect().x-190>document.body.clientWidth/2?"left":""},loggedinUser:function(){return this.$store.getters.loggedinUser}},mounted:function(){this.$refs.taskMenu.style.top=this.menu.getBoundingClientRect().y-3+"px";var t=this.isScroll?210:215;this.$refs.taskMenu.style.left=this.menu.getBoundingClientRect().x-t+"px",this.menu.getBoundingClientRect().y>400&&(this.$refs.pickersContainer.style.top="-200px"),this.$refs.editTaskName.select(),this.expand()},created:function(){this.updateCopy()},components:{movePicker:ea,labelPicker:pa,dataIndicationPreview:Hs,labelPreview:Ss,addMember:ba},props:{task:Object,isScroll:Boolean,menu:HTMLButtonElement}},wa=Ca,ya=Object(u["a"])(wa,Ws,Gs,!1,null,null,null),_a=ya.exports,xa={data:function(){return{isMenuOpen:!1,taskCopy:null}},computed:{checklistStatus:function(){var t=this.task.checklist.todos,e=t.filter((function(t){return t.isDone})).length,s=t.length;return e+"/"+s},taskDetails:function(){var t=this.$store.getters.currBoardId,e=this.task.id;return"/board/".concat(t,"/task/").concat(e)},isDataIndication:function(){var t=this.task;return t.dueDate.time||t.desc||t.comments.length||t.attachments.length||t.checklist||t.members.length},isScroll:function(){var t=document.getElementById(this.listId),e=t.scrollHeight>t.clientHeight;return e}},methods:{openMenu:function(t){t.stopPropagation(),this.isMenuOpen=!this.isMenuOpen},closeMenu:function(t){this.updateTask(t),this.isMenuOpen=!1},taskDetailsPage:function(){this.$router.push(this.taskDetails)},updateTask:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.taskCopy=t,s.next=3,e.emit("update-task",e.taskCopy);case 3:try{e.taskCopy=JSON.parse(JSON.stringify(e.task))}catch(a){console.log("Task saving failed"),e.taskCopy=JSON.parse(JSON.stringify(e.task))}case 4:case"end":return s.stop()}}),s)})))()},emit:function(t,e){var s=this;return new Promise((function(a,n){s.$emit(t,e),s.$nextTick(a)}))}},created:function(){this.taskCopy=JSON.parse(JSON.stringify(this.task))},components:{taskMenu:_a,labelPreview:Ss,dataIndicationPreview:Hs},props:{task:Object,listId:String,elTasks:HTMLElement}},Ta=xa,Oa=Object(u["a"])(Ta,Os,Ls,!1,null,null,null),La=Oa.exports,ja=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"screen-trans",on:{click:function(e){return t.$emit("clicked")}}}),s("menu",{staticClass:"list-menu"},[s("div",{staticClass:"item",on:{click:function(e){return t.$emit("add-task")}}},[s("i",{staticClass:"fas fa-plus"}),s("span",[t._v("Add new task")])]),s("div",{staticClass:"item move-list-btn",on:{click:function(e){t.isMoveOpen=!t.isMoveOpen}}},[s("i",{staticClass:"fas fa-arrow-right"}),s("span",[t._v("Move list")])]),t.isMoveOpen?s("list-mover",{attrs:{options:t.listIdxs},on:{input:t.moveList,"close-picker":function(e){t.isMoveOpen=!1}},model:{value:t.moveToIdx,callback:function(e){t.moveToIdx=e},expression:"moveToIdx"}}):t._e(),s("div",{staticClass:"item remove",on:{click:function(e){return t.emitEv("remove-list")}}},[s("i",{staticClass:"far fa-trash-alt remove-list-icon"}),s("span",[t._v("Remove list")])])],1)])},$a=[],Ma=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"list-mover"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.moveList(e)}}},[s("div",{staticClass:"list-mover-header"},[s("span",{staticClass:"title"},[t._v("Move List")]),s("button",{staticClass:"close",on:{click:function(e){return t.$emit("close-picker")}}},[s("i",{staticClass:"fas fa-times"})])]),s("span",{staticClass:"dest"},[t._v("Select destination")]),s("v-select",{staticClass:"move-list-selector",attrs:{options:t.options,placeholder:"Select Destination"},on:{input:t.setSelected}}),s("button",{staticClass:"move-list-btn"},[t._v("Save")])],1)])},Da=[],Ia={data:function(){return{moveTo:this.value}},methods:{moveList:function(){this.moveTo&&this.$emit("input",this.moveTo)},setSelected:function(t){this.moveTo=t}},components:{vSelect:Qs.a},props:{value:Number,options:Array}},Sa=Ia,Ba=Object(u["a"])(Sa,Ma,Da,!1,null,null,null),Ea=Ba.exports,Na={data:function(){return{isMoveOpen:!1,moveToIdx:null}},methods:{emitEv:function(t){cs.$emit(t,this.listId)},moveList:function(t){this.$emit("list-moved",t)}},computed:{listIdxs:function(){var t=this;return this.$store.getters.taskLists.reduce((function(e,s,a){return s&&s.id!==t.listId&&e.push(a+1),e}),[])}},components:{listMover:Ea},props:{listId:String}},Pa=Na,Ra=Object(u["a"])(Pa,ja,$a,!1,null,null,null),Ua=Ra.exports,Aa=s("3f7d"),Ja={data:function(){return{newTask:null,isTaskSaved:!1,isMenuOpen:!1,listCopy:null,isEditName:!1}},methods:{getEmptyTask:function(){var t=this;this.newTask=Mt.getEmptyTask(),setTimeout((function(){t.$refs.tasks.scrollTo(0,t.$refs.tasks.scrollHeight),t.$refs.taskInput&&t.$refs.taskInput.focus()}),2)},editListName:function(){var t=this;this.isEditName=!0,setTimeout((function(){t.$refs.listNameInput.focus()}),0)},addTask:function(t){var e=this;t&&t.shiftKey?this.newTask.name+="\n":(this.isTaskSaved=!0,this.newTask.name.length?(this.newTask.listId=this.taskList.id,this.listCopy.tasks.push(this.newTask),this.saveList("save-list"),cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:this.newTask.id,operation:"added task "+'"'.concat(this.newTask.name,'"')+" to "+this.taskList.name+" list"}),this.getEmptyTask(),setTimeout((function(){e.$refs.tasks.scrollTo(0,e.$refs.tasks.scrollHeight)}),2),this.$refs.taskInput.focus()):this.newTask=null)},saveList:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.emit(t,e.listCopy);case 2:e.listCopy=JSON.parse(JSON.stringify(e.taskList));case 3:case"end":return s.stop()}}),s)})))()},saveTask:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=e.listCopy.tasks.findIndex((function(e){return e.id===t.id})),-1!==a&&(e.listCopy.tasks.splice(a,1,t),e.saveList("save-list"));case 2:case"end":return s.stop()}}),s)})))()},onDrop:function(t){this.listCopy.tasks=mt.applyDrag(this.taskList.tasks,t),this.saveList("save-lists-order")},onDragEnd:function(){document.querySelector("body").classList.remove("smooth-dnd-no-user-select","smooth-dnd-disable-touch-action")},getTaskPayload:function(t){var e=this;return function(s){return e.$store.getters.taskLists.filter((function(e){return e.id===t}))[0].tasks[s]}},emit:function(t,e){var s=this;return new Promise((function(a,n){s.$emit(t,e),s.$nextTick(a)}))},moveList:function(t){this.$emit("list-moved",{listIdx:this.listIdx,toIdx:t-1}),this.isMenuOpen=!1},saveListName:function(t){cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"changed list name to "+'"'.concat(this.listCopy.name,'"')}),this.saveList("save-list"),this.isEditName=!1},focus:function(t){t.target.focus()},blurTask:function(){var t=this;setTimeout((function(){t.isTaskSaved||(t.newTask&&t.newTask.name.length>0&&t.addTask(),t.newTask=null),t.isTaskSaved=!1}),150)},removeTask:function(t){var e=this.listCopy.tasks.findIndex((function(e){return e.id===t})),s=this.listCopy.tasks[e].name;-1!==e&&this.listCopy.tasks.splice(e,1),cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"removed task "+'"'.concat(s,'"')}),this.saveList("save-list")}},watch:{tasks:function(){this.listCopy=JSON.parse(JSON.stringify(this.taskList))}},created:function(){this.listCopy=JSON.parse(JSON.stringify(this.taskList))},computed:{tasks:function(){return this.taskList.tasks},loggedinUser:function(){return this.$store.getters.loggedinUser},delayDrag:function(){return screen.width>900?0:500}},props:{taskList:Object,listIdx:Number},components:{taskPreview:La,listMenu:Ua,Container:Aa["Container"],Draggable:Aa["Draggable"]}},za=Ja,qa=Object(u["a"])(za,xs,Ts,!1,null,null,null),Fa=qa.exports,Ha=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"window",staticClass:"window-overlay",on:{mousedown:t.closeDetailsOverlay}},[t.task?s("section",{ref:"task",staticClass:"task-details"},[t.isLabelOpen?s("label-picker",{staticClass:"move-label-menu",attrs:{boardLabels:t.boardLabels,taskLabels:t.task.labels},on:{"set-labels":t.setLabels,"close-picker":t.toggleLabelMenu}}):t._e(),t.isMoveOpen?s("move-picker",{staticClass:"move-picker-menu",attrs:{optionalLists:t.optionalLists},on:{input:t.moveTask,"close-picker":t.toggleMoveMenu},model:{value:t.moveToList,callback:function(e){t.moveToList=e},expression:"moveToList"}}):t._e(),t.isAddMember?s("add-member",{attrs:{task:t.task},on:{"add-task-member":t.addMember,closed:function(e){t.isAddMember=!1}}}):t._e(),s("div",{staticClass:"task-details-header details-grid-title"},[t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.name,expression:"editedTask.name"}],staticClass:"task-title",attrs:{type:"text"},domProps:{value:t.editedTask.name},on:{change:t.updateAndBlur,input:function(e){e.target.composing||t.$set(t.editedTask,"name",e.target.value)}}}),s("button",{staticClass:"close-btn",on:{click:t.closeDetails}},[s("i",{staticClass:"fas fa-times"})])]),s("h1"),s("div",{staticClass:"details-container"},[s("div",{staticClass:"details-info"},[s("div",{staticClass:"details-lmd"},[t.task.labels.length?s("section",{staticClass:"details-labels details-grid-title"},[s("div",{staticClass:"details-grid-last"},[t._m(1),s("div",{staticClass:"list"},[s("label-preview",{attrs:{labels:t.task.labels}})],1)])]):t._e(),t.task.members?s("section",{staticClass:"details-members"},[s("div",{staticClass:"detils-members-container"},[t._m(2),s("div",{staticClass:"members"},[t._l(t.task.members,(function(e){return s("user-avatar",{key:e._id,attrs:{user:e},on:{"member-removed":t.removeMember}})})),s("button",{staticClass:"member-add-btn member-card",on:{click:function(e){t.isAddMember=!t.isAddMember}}},[s("i",{staticClass:"fas fa-plus"})])],2)])]):t._e(),null!==t.task.dueDate.isCompleted?s("section",{staticClass:"details-due-date details-grid-title"},[s("div",{staticClass:"dueDate-container details-grid-last"},[t._m(3),s("div",{staticClass:"details-due-list"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.dueDate.isCompleted,expression:"editedTask.dueDate.isCompleted"}],staticClass:"details-due-check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.editedTask.dueDate.isCompleted)?t._i(t.editedTask.dueDate.isCompleted,null)>-1:t.editedTask.dueDate.isCompleted},on:{change:[function(e){var s=t.editedTask.dueDate.isCompleted,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=t._i(s,r);a.checked?i<0&&t.$set(t.editedTask.dueDate,"isCompleted",s.concat([r])):i>-1&&t.$set(t.editedTask.dueDate,"isCompleted",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(t.editedTask.dueDate,"isCompleted",n)},t.updateTask]}}),s("div",{staticClass:"block"},[s("el-date-picker",{ref:"calendar",staticClass:"el-date-picker",attrs:{type:"datetime",format:"MMM dd hh:mm A","value-format":"timestamp",placeholder:"Select date and time",size:"mini"},on:{change:t.updateTask},model:{value:t.editedTask.dueDate.time,callback:function(e){t.$set(t.editedTask.dueDate,"time",e)},expression:"editedTask.dueDate.time"}})],1),t.task.dueDate.time?s("due-date-preview",{attrs:{dueDate:t.task.dueDate}}):t._e()],1)])]):t._e()]),s("section",{staticClass:"details-description details-grid"},[t._m(4),t._m(5),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.desc,expression:"editedTask.desc"}],ref:"description",staticClass:"details-desc-input details-grid-last",attrs:{placeholder:"Add more information here",rows:"1"},domProps:{value:t.editedTask.desc},on:{input:[function(e){e.target.composing||t.$set(t.editedTask,"desc",e.target.value)},t.expandTextArea],change:t.updateTask}})]),t.editedTask.attachments.length?s("section",{staticClass:"details-attachment details-grid"},[t._m(6),t._m(7),s("img",{staticClass:"details-grid-last",attrs:{src:t.getTaskImg}})]):t._e(),t.task.checklist?s("section",{staticClass:"details-checklist details-grid"},[t._m(8),s("div",{staticClass:"details-checklist-header"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.editedTask.checklist.title,expression:"editedTask.checklist.title"}],ref:"checklist",staticClass:"checklist-title",attrs:{type:"text"},domProps:{value:t.editedTask.checklist.title},on:{change:t.updateAndBlur,input:function(e){e.target.composing||t.$set(t.editedTask.checklist,"title",e.target.value)}}})]),s("div",{staticClass:"details-grid-last"},[t.editedTask.checklist.todos.length?s("el-progress",{staticClass:"checklist-progress",attrs:{percentage:t.checklistProgress,color:t.progressColor}}):t._e(),t._l(t.editedTask.checklist.todos,(function(e){return s("div",{key:e.id,staticClass:"checklist-todo-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isDone,expression:"item.isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDone)?t._i(e.isDone,null)>-1:e.isDone},on:{change:[function(s){var a=e.isDone,n=s.target,r=!!n.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);n.checked?o<0&&t.$set(e,"isDone",a.concat([i])):o>-1&&t.$set(e,"isDone",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"isDone",r)},t.updateTask]}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.txt,expression:"item.txt"}],staticClass:"checklist-todo",class:e.isDone?"todo-done":"",attrs:{type:"text"},domProps:{value:e.txt},on:{change:t.updateTask,input:function(s){s.target.composing||t.$set(e,"txt",s.target.value)}}}),s("button",{staticClass:"todo-remove-btn",on:{click:function(s){return t.removeTodo(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])})),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currTodo.txt,expression:"currTodo.txt"}],staticClass:"checklist-add-todo",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:t.currTodo.txt},on:{change:t.addTodo,input:function(e){e.target.composing||t.$set(t.currTodo,"txt",e.target.value)}}})],2)]):t._e(),s("section",{staticClass:"details-discussion details-grid"},[t._m(9),t._m(10),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currComment.txt,expression:"currComment.txt"}],ref:"comment",staticClass:"discussion-add-item details-grid-last",attrs:{type:"text",placeholder:"Write a comment"},domProps:{value:t.currComment.txt},on:{change:t.addComment,input:function(e){e.target.composing||t.$set(t.currComment,"txt",e.target.value)}}})]),s("comment-preview",{attrs:{comments:t.editedTask.comments},on:{removeComment:t.removeComment}})],1),s("section",{staticClass:"details-actions"},[s("div",{staticClass:"title"},[t._v("Actions:")]),s("button",{on:{click:t.toggleLabelMenu}},[s("i",{staticClass:"fas fa-tag"}),s("span",{staticClass:"action-title"},[t._v("Labels")])]),s("button",{on:{click:function(e){t.isAddMember=!t.isAddMember}}},[s("i",{staticClass:"far fa-user"}),s("span",{staticClass:"action-title"},[t._v("Members")])]),s("button",{on:{click:t.setDueDate}},[s("i",{staticClass:"far fa-clock"}),s("span",{staticClass:"action-title"},[t._v("Due Date")])]),s("button",{on:{click:t.updateDescription}},[s("i",{staticClass:"fas fa-align-left"}),s("span",{staticClass:"action-title"},[t._v("Description")])]),t._m(11),s("input",{attrs:{id:"add-img",type:"file"},on:{change:t.uploadImg}}),s("button",{on:{click:t.updateChecklist}},[s("i",{staticClass:"far fa-check-square"}),s("span",{staticClass:"action-title"},[t._v("Checklist")])]),s("button",{on:{click:t.sendComment}},[s("i",{staticClass:"far fa-comment"}),s("span",{staticClass:"action-title"},[t._v("Comments")])]),s("button",{on:{click:t.toggleMoveMenu}},[s("i",{staticClass:"fas fa-long-arrow-alt-right"}),s("span",{staticClass:"action-title"},[t._v("Move")])]),s("button",{on:{click:t.removeTask}},[s("i",{staticClass:"far fa-trash-alt"}),s("span",{staticClass:"action-title"},[t._v("Remove")])])])])],1):t._e()])},Wa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-layer-group"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[t._v("Labels:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[t._v("Members:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title-container"},[s("span",{staticClass:"title"},[t._v("Due Date:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-align-left"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"titles"},[t._v("Description:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"far fa-image"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"titles"},[t._v("Image:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-icons"},[s("i",{staticClass:"far fa-check-square"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"details-icons"},[s("i",{staticClass:"fas fa-stream"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-disc-header"},[s("span",{staticClass:"details-titles"},[t._v("Discussion:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"add-image-btn",attrs:{for:"add-img"}},[s("i",{staticClass:"far fa-image"}),s("span",{staticClass:"action-title"},[t._v("Add Image")])])}],Ga=(s("a4d3"),s("e01a"),s("8055")),Za=s.n(Ga),Ka="/",Va={setup:Qa,terminate:Xa,on:Ya,off:tn,emit:en};function Qa(){zt=Za()(Ka)}function Xa(){zt=null}function Ya(t,e){zt.on(t,e)}function tn(t,e){zt.off(t,e)}function en(t,e){zt.emit(t,e)}var sn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"comments-preview"},t._l(t.comments,(function(e){return s("div",{key:e.id,staticClass:"comment-card"},[s("div",{staticClass:"comment-img-container member-card"},[s("user-avatar",{attrs:{user:e.from}})],1),s("div",{staticClass:"comment-info"},[s("div",{staticClass:"comment-from"},[t._v(t._s(e.from.username))]),s("div",{staticClass:"comment-time"},[t._v(t._s(t._f("dateAgo")(e.createdAt)))])]),s("div",{staticClass:"comment-txt"},[t._v(t._s(e.txt))]),s("div",{staticClass:"comment-controls"},[s("span",{staticClass:"action-link",on:{click:function(s){return t.removeComment(e.id)}}},[t._v("delete")])])])})),0)},an=[],nn={methods:{removeComment:function(t){this.$emit("removeComment",t)}},props:{comments:Array},components:{userAvatar:Ge}},rn=nn,on=Object(u["a"])(rn,sn,an,!1,null,null,null),cn=on.exports,ln={data:function(){return{editedTask:null,currDueDate:null,moveToList:null,isLabelOpen:!1,isMoveOpen:!1,isAddMember:!1,listId:null,currTodo:{txt:""},currComment:{txt:""}}},methods:{uploadImg:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,z.uploadImg(t);case 2:a=s.sent,e.editedTask.attachments.unshift(a),cs.$emit(fs,{from:e.loggedinUser,createdAt:Date.now(),taskId:e.task.id,operation:"added image to task "+'"'.concat(e.task.name,'"')}),e.updateTask();case 6:case"end":return s.stop()}}),s)})))()},getListId:function(){var t=this,e=this.$store.getters.taskLists.findIndex((function(e){var s=e.tasks.find((function(e){return e.id===t.task.id}));return!!s}));this.listId=this.$store.getters.taskLists[e].id},setLabels:function(t){this.editedTask.labels=t,cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:this.task.id,operation:"updated task labels for "+'"'.concat(this.task.name,'"')}),this.updateTask()},toggleMoveMenu:function(){this.isMoveOpen=!this.isMoveOpen},toggleLabelMenu:function(){this.isLabelOpen=!this.isLabelOpen},moveTask:function(){var t=this.moveToList,e=this.task.id;this.$emit("move-task",{toListId:t,taskId:e}),this.updateTask(),this.toggleMoveMenu()},updateTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"updateTask",task:t.editedTask});case 2:try{setTimeout((function(){t.editedTask=JSON.parse(JSON.stringify(t.task))}),2)}catch(s){t.editedTask=JSON.parse(JSON.stringify(s)),console.log("Err, failed to save task")}Va.emit("board boardChanged",t.currBoard);case 4:case"end":return e.stop()}}),e)})))()},updateAndBlur:function(t){t.target.blur(),this.updateTask()},removeTask:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:null,operation:"removed task "+'"'.concat(t.task.name,'"')}),e.next=3,t.$store.dispatch({type:"removeTask",task:t.editedTask});case 3:try{t.closeDetails()}catch(s){t.editedTask=JSON.parse(JSON.stringify(s)),console.log("Err, failed to save task")}Va.emit("board boardChanged",t.currBoard);case 5:case"end":return e.stop()}}),e)})))()},setDueDate:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==t.editedTask.dueDate.isCompleted){e.next=8;break}return t.editedTask.dueDate.isCompleted=!1,cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"set due date to"+'"'.concat(t.task.name,'"')}),e.next=5,t.updateTask();case 5:try{t.$refs.calendar.focus()}catch(s){console.log("failed to save setDueDate")}e.next=9;break;case 8:t.$refs.calendar.focus();case 9:case"end":return e.stop()}}),e)})))()},addTodo:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=mt.getEmptyTodo(),s.txt=t.currTodo.txt,t.editedTask.checklist.todos.push(s),cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"added todo item "+'"'.concat(t.currTodo.txt,'"')+" to task "+'"'.concat(t.task.name,'"')}),e.next=6,t.updateTask();case 6:try{t.currTodo.txt=""}catch(a){console.log("Failed to save todo + task")}case 7:case"end":return e.stop()}}),e)})))()},removeTodo:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.editedTask.checklist.todos.findIndex((function(e){return e.id===t})),-1!==a&&e.editedTask.checklist.todos.splice(a,1),s.next=4,e.updateTask().catch((function(){console.log("Failed to save todo + task")}));case 4:case"end":return s.stop()}}),s)})))()},addComment:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=mt.getEmptyComment(),s.txt=t.currComment.txt,s.from=t.loggedinUser,t.editedTask.comments.unshift(s),cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"leave a comment "+'"'.concat(t.currComment.txt,'"')+" in "+'"'.concat(t.task.name,'"')}),e.next=7,t.updateTask();case 7:try{t.currComment.txt=""}catch(a){console.log("Failed to save comment + task")}case 8:case"end":return e.stop()}}),e)})))()},removeComment:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.editedTask.comments.findIndex((function(e){return e.id===t})),-1!==a&&e.editedTask.comments.splice(a,1),s.next=4,e.updateTask().catch((function(){console.log("Failed to save todo + task")}));case 4:case"end":return s.stop()}}),s)})))()},updateChecklist:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.editedTask.checklist){e.next=4;break}t.$refs.checklist.select(),e.next=10;break;case 4:return cs.$emit(fs,{from:t.loggedinUser,createdAt:Date.now(),taskId:t.task.id,operation:"added checklist to"+'"'.concat(t.task.name,'"')}),s=mt.getEmptyChecklist(),t.editedTask.checklist=s,e.next=9,t.updateTask();case 9:try{t.$refs.checklist.select()}catch(a){console.log("failed to save checklist")}case 10:case"end":return e.stop()}}),e)})))()},addMember:function(t){this.editedTask.members.push(t),cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:this.task.id,operation:"added "+t.username+" to "+'"'.concat(this.task.name,'"')}),this.updateTask()},removeMember:function(t){var e=this.editedTask.members.findIndex((function(e){return e._id===t}));if(-1!==e){var s=this.editedTask.members[e].username;this.editedTask.members.splice(e,1),cs.$emit(fs,{from:this.loggedinUser,createdAt:Date.now(),taskId:this.task.id,operation:"remove "+s+" from "+'"'.concat(this.task.name,'"')}),this.updateTask()}},updateDescription:function(){this.$refs.description.select()},expandTextArea:function(){var t=this.$refs.description;mt.expandTextArea(t)},sendComment:function(){this.$refs.comment.focus()},closeDetails:function(){var t=this.$store.getters.currBoardId;this.$router.push("/board/".concat(t))},closeDetailsOverlay:function(t){if(t.target===this.$refs.window){var e=this.$store.getters.currBoardId;this.$router.push("/board/".concat(e))}},closeDetailsOnEsc:function(t){"Escape"===t.key&&this.closeDetails()}},computed:{task:function(){return this.$store.getters.currTask},getTaskImg:function(){return this.editedTask.attachments[0]},optionalLists:function(){var t=this,e=this.$store.getters.taskLists;return e.filter((function(e){return e.id!==t.listId}))},boardLabels:function(){return this.$store.getters.labels},checklistProgress:function(){if(!this.editedTask.checklist.todos.length)return 0;var t=this.editedTask.checklist.todos.filter((function(t){return!0===t.isDone})).length,e=t/this.editedTask.checklist.todos.length*100;return parseInt(e)},progressColor:function(){var t=this.editedTask.checklist.todos.filter((function(t){return!0===t.isDone})).length,e=t/this.editedTask.checklist.todos.length*100;return 100===e?"#67C23A":"#409EFF"},currBoard:function(){return this.$store.getters.currBoard},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){this.editedTask=JSON.parse(JSON.stringify(this.task)),console.log("// Details Task:",this.task),document.addEventListener("keyup",this.closeDetailsOnEsc),this.getListId()},destroyed:function(){document.removeEventListener("keyup",this.closeDetailsOnEsc)},mounted:function(){this.expandTextArea()},components:{userAvatar:Ge,labelPreview:Ss,dueDatePreview:Js,commentPreview:cn,labelPicker:pa,movePicker:ea,addMember:ba}},un=ln,dn=Object(u["a"])(un,Ha,Wa,!1,null,null,null),mn=dn.exports,pn={data:function(){return{board:null,newTaskList:null,isTaskDetailsOpen:!1,isTaskLoad:!1,isListSaved:!1,draggingListIdx:null,placeholderOpts:{className:"list-drop-preview",animationDuration:"150",showOnTop:!1}}},methods:{loadBoardAndTask:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"loadById",boardId:t});case 2:a=s.sent;try{e.board=JSON.parse(JSON.stringify(a)),n=e.$route.params.taskId,n?(e.$store.commit({type:"setTaskById",taskId:n}),e.isTaskDetailsOpen=!0):e.isTaskDetailsOpen=!1,e.isTaskLoad=!1}catch(r){console.log("Err msg to user here"),e.$router.push("/user/dashboard")}case 4:case"end":return s.stop()}}),s)})))()},saveBoard:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"saveBoard",board:t.board});case 2:return e.prev=2,t.board=JSON.parse(JSON.stringify(t.storeBoard)),console.log("CMP: Board Saved Succesfully"),e.abrupt("return",t.board);case 8:throw e.prev=8,e.t0=e["catch"](2),t.board=JSON.parse(JSON.stringify(board)),console.log("Err, board didnt saved"),new Error("Saving failed");case 13:Va.emit("board boardChanged",t.board);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})))()},addList:function(t){var e=this;this.newTaskList&&(this.isListSaved=!0,this.newTaskList.name.length?(this.board.taskLists.push(this.newTaskList),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"added new list "+'"'.concat(this.newTaskList.name,'"')}),this.saveBoard(),console.log(this.board),this.newTaskList=null,this.getEmptyList(),setTimeout((function(){mt.scrollTo(e.$refs.lists,1500,700)}),2)):this.newTaskList=null)},blurAddList:function(){var t=this;setTimeout((function(){t.isListSaved||(t.newTaskList&&t.newTaskList.name.length>0&&t.addList(),t.newTaskList=null),t.isListSaved=!1}),150)},moveList:function(t){var e=t.listIdx,s=t.toIdx,a=JSON.parse(JSON.stringify(this.board.taskLists[e]));this.board.taskLists.splice(e,1),this.board.taskLists.splice(s,0,a),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"moved list "+'"'.concat(this.board.taskLists[e].name,'"')}),this.saveBoard()},onDrop:function(t){this.board.taskLists=mt.applyDrag(this.board.taskLists,t),this.saveBoard()},removeList:function(t){var e=this.board.taskLists.findIndex((function(e){return e.id===t})),s=this.board.taskLists[e].name;this.board.taskLists.splice(e,1),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"removed "+'"'.concat(s,'""')+"  list"}),this.saveBoard()},saveTaskList:function(t){var e=this.board.taskLists.findIndex((function(e){return e.id===t.id}));-1!==e&&this.board.taskLists.splice(e,1,t),this.saveBoard()},saveListsOrder:function(t){var e=this.board.taskLists.findIndex((function(e){return e.id===t.id}));-1!==e&&this.board.taskLists.splice(e,1,t),e===this.board.taskLists.length-1&&this.saveBoard()},moveTask:function(t){var e,s=t.toListId,a=t.taskId,n=this.taskLists.findIndex((function(t){var e=t.tasks.find((function(t){return t.id===a}));return!!e}));e=this.taskLists[n].id;var r=this.board.taskLists.find((function(t){return t.id===e}));if(r){var i,o=r.tasks.find((function(t,e){if(t.id===a)return i=e,!0}));r.tasks.splice(i,1);var c=this.board.taskLists.find((function(t){return t.id===s}));o&&(c.tasks.push(o),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:a,operation:"moved task  "+'"'.concat(o.name,'""')+"  to list "+'"'.concat(c.name,'""')}),this.saveBoard())}},updateBoard:function(t){this.$store.commit({type:"setCurrBoard",board:t}),this.board=JSON.parse(JSON.stringify(t)),console.log("Board updated")},getEmptyList:function(){var t=this;this.newTaskList=this.newTaskList?null:Mt.getEmptyList(),setTimeout((function(){mt.scrollTo(document.querySelector("html"),1500,700),t.$refs.listInput&&t.$refs.listInput.focus()}),0)},updateStyle:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.loggedinUser){s.next=2;break}return s.abrupt("return");case 2:return a=JSON.parse(JSON.stringify(e.loggedinUser)),n=a.boards.find((function(t){return t._id===e.storeBoard._id})),n.style.background=t,s.next=7,e.$store.dispatch({type:"updateUser",user:a});case 7:r=s.sent,e.$store.commit({type:"setLoggedinUser",user:r}),e.board.style.background=t,e.board.activities.unshift({from:e.loggedinUser,createdAt:Date.now(),taskId:null,operation:"changed board background style"}),e.saveBoard();case 12:case"end":return s.stop()}}),s)})))()},addMember:function(t){this.board.members.push(t),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"invited "+t.username+" to this board"}),this.saveBoard()},removeMember:function(t){var e=this.board.members.findIndex((function(e){return e._id===t})),s=this.board.members[e].username;this.board.members.splice(e,1),this.board.activities.unshift({from:this.loggedinUser,createdAt:Date.now(),taskId:null,operation:"remove "+s+" from this board"}),this.saveBoard()},updateBoardLabels:function(t){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function s(){var a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.board.labels=t,e.board.taskLists.forEach((function(s){s.tasks.forEach((function(s){var n=s.labels.map((function(e){var s=t.find((function(t){return t.id===e.id}));return s}));s.labels=n,e.currTask&&s.id===e.currTask.id&&(a=JSON.parse(JSON.stringify(s)))}))})),!e.currTask){s.next=5;break}return s.next=5,e.$store.dispatch({type:"updateTask",task:a});case 5:return s.next=7,e.saveBoard();case 7:n=s.sent,cs.$emit(hs,n.labels);case 9:case"end":return s.stop()}}),s)})))()},addActivity:function(t){var e=JSON.parse(JSON.stringify(this.board));e.activities.unshift(t),this.$store.commit({type:"setCurrBoard",board:e}),this.board=JSON.parse(JSON.stringify(e))}},computed:{taskLists:function(){return this.$store.getters.taskLists},currTask:function(){return this.$store.getters.currTask},storeBoard:function(){return this.$store.getters.currBoard},loggedinUser:function(){return this.$store.getters.loggedinUser}},watch:{$route:function(){this.isTaskLoad=!0;var t=this.$route.params.boardId;this.loadBoardAndTask(t)}},created:function(){var t=this,e=this.$route.params.boardId;Object(h["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.loadBoardAndTask(e);case 2:Va.setup(),Va.emit("board topic",t.board._id),Va.on("board boardChanged",t.updateBoard);case 5:case"end":return s.stop()}}),s)})))(),cs.$on(ls,this.removeList),cs.$on(us,this.moveTask),cs.$on(ds,this.addMember),cs.$on(ms,this.removeMember),cs.$on(ps,this.updateBoardLabels),cs.$on(fs,this.addActivity)},destroyed:function(){cs.$off(ls,this.removeList),cs.$off(us,this.moveTask),cs.$off(ds,this.addMember),cs.$off(ms,this.removeMember),cs.$off(ps,this.updateBoardLabels),cs.$off(fs,this.addActivity)},components:{boardHeader:_s,taskList:Fa,taskDetails:mn,Container:Aa["Container"],Draggable:Aa["Draggable"]}},fn=pn,hn=Object(u["a"])(fn,le,ue,!1,null,null,null),gn=hn.exports;a["default"].use(T["a"]);var vn=[{path:"/",name:"Home",component:D},{path:"/about",name:"About",component:P},{path:"/user/:userId",name:"Dashboard",component:ce},{path:"/board/:boardId",name:"BoardApp",component:gn},{path:"/board/:boardId/task/:taskId",name:"TaskDetails",component:gn}],kn=new T["a"]({mode:"history",routes:vn}),bn=kn,Cn=s("2f62"),wn={state:{currBoard:null,filterBy:null,currTask:null,isLabelsMini:!0},getters:{currBoardId:function(t){return t.currBoard._id},taskLists:function(t){return t.currBoard.taskLists},boardTasks:function(t){var e=[];return t.currBoard.taskLists.forEach((function(t){t.tasks.forEach((function(t){e.push(t)}))})),e},currTask:function(t){return t.currTask},labels:function(t){return t.currBoard.labels},currBoard:function(t){return t.currBoard},isLabelsMini:function(t){return t.isLabelsMini}},mutations:{setBoards:function(t,e){var s=e.boards;t.boards=s},setCurrBoard:function(t,e){var s=e.board;t.currBoard=s},setCurrTask:function(t,e){var s=e.task;t.currTask=s},setTaskById:function(t,e){var s=e.taskId;s?t.currBoard.taskLists.forEach((function(e){var a=e.tasks.find((function(t){return t.id===s}));a&&(t.currTask=a)})):t.currTask=null},toggleMiniLabals:function(t){t.isLabelsMini=!t.isLabelsMini}},actions:{loadById:function(t,e){var s=e.boardId;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Mt.getById(s);case 2:return a=e.sent,e.prev=3,t.commit({type:"setCurrBoard",board:a}),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](3),console.log("Err: Board load failed"),new Error;case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))()},updateTask:function(t,e){var s=e.task;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(t.state.currTask)),t.commit({type:"setCurrTask",task:s}),n=JSON.parse(JSON.stringify(t.state.currBoard)),n.taskLists.forEach((function(e){var r=e.tasks.findIndex((function(t){return t.id===s.id}));if(-1!==r){e.tasks.splice(r,1,s);try{t.dispatch({type:"saveBoard",board:n})}catch(i){return console.log("Err: Task saving failed"),t.commit({type:"setCurrTask",prevTask:a}),Promise.reject(a)}}}));case 4:case"end":return e.stop()}}),e)})))()},removeTask:function(t,e){var s=e.task;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=JSON.parse(JSON.stringify(t.state.currTask)),n=JSON.parse(JSON.stringify(t.state.currBoard)),n.taskLists.forEach((function(e){var r=e.tasks.findIndex((function(t){return t.id===s.id}));if(-1!==r){e.tasks.splice(r,1);try{t.dispatch({type:"saveBoard",board:n})}catch(i){return console.log("Err: Task saving failed"),t.commit({type:"setCurrTask",prevTask:a}),Promise.reject(a)}}}));case 3:case"end":return e.stop()}}),e)})))()},saveBoard:function(t,e){var s=e.board;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=JSON.parse(JSON.stringify(t.state.currBoard)),t.commit({type:"setCurrBoard",board:s}),e.next=4,Mt.save(s);case 4:return n=e.sent,e.prev=5,console.log("Board Saved!"),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e["catch"](5),t.commit({type:"setCurrBoard",prevBoard:a}),console.log("Err: Board saving failed"),e.abrupt("return",Promise.reject(a));case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))()},createBoard:function(t,e){var s=e.board;return Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Mt.save(s);case 2:return e=t.sent,t.prev=3,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t["catch"](3),console.log("Board create failed"),t.abrupt("return",Promise.reject());case 11:case"end":return t.stop()}}),t,null,[[3,7]])})))()}}};function yn(t){return JSON.parse(sessionStorage.getItem(t))}function _n(t,e){sessionStorage.setItem(t,JSON.stringify(e))}var xn={get:yn,set:_n},Tn={store:On,load:Ln};function On(t,e){localStorage[t]=JSON.stringify(e)}function Ln(t){var e=localStorage[t]||"null";return JSON.parse(e)}var jn={login:Sn,logout:Pn,signup:En,query:Un,getById:Mn,remove:Dn,update:In,getLoggedInUser:$n};function $n(){var t=xn.get("user");return t?Mn(t._id):(t=Tn.load("user"),t?Mn(t._id):Jn())}function Mn(t){return it.get("user/".concat(t))}function Dn(t){return it.delete("user/".concat(t))}function In(t){return it.put("user/".concat(t._id),t)}function Sn(t){return Bn.apply(this,arguments)}function Bn(){return Bn=Object(h["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.post("auth/login",e);case 2:return s=t.sent,t.prev=3,An(s),t.abrupt("return",s);case 8:throw t.prev=8,t.t0=t["catch"](3),console.log("ERR: Unauthorized"),new Error;case 12:case"end":return t.stop()}}),t,null,[[3,8]])}))),Bn.apply(this,arguments)}function En(t){return Nn.apply(this,arguments)}function Nn(){return Nn=Object(h["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.post("auth/signup",e);case 2:return s=t.sent,t.prev=3,t.abrupt("return",An(s));case 7:throw t.prev=7,t.t0=t["catch"](3),console.log("ERR: Unauthorized"),new Error;case 11:case"end":return t.stop()}}),t,null,[[3,7]])}))),Nn.apply(this,arguments)}function Pn(){return Rn.apply(this,arguments)}function Rn(){return Rn=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,it.post("auth/logout");case 2:sessionStorage.clear(),localStorage.clear();case 4:case"end":return t.stop()}}),t)}))),Rn.apply(this,arguments)}function Un(t){return it.get("user",t)}function An(t){return xn.set("user",t),t}function Jn(){return zn.apply(this,arguments)}function zn(){return zn=Object(h["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={username:"Guest"+mt.getRandom(1001,9999),email:"gus@guest.com",password:"123"},t.next=3,En(e);case 3:return s=t.sent,t.prev=4,Tn.store("user",s),t.abrupt("return",s);case 9:return t.prev=9,t.t0=t["catch"](4),console.log("Err, guest signup failed"),t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[4,9]])}))),zn.apply(this,arguments)}var qn={state:{loggedinUser:null},getters:{loggedinUser:function(t){return t.loggedinUser}},mutations:{setLoggedinUser:function(t,e){var s=e.user;t.loggedinUser=s}},actions:{getLoggedinUser:function(t){return Object(h["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jn.getLoggedInUser();case 2:s=e.sent,t.commit({type:"setLoggedinUser",user:s});case 4:case"end":return e.stop()}}),e)})))()},login:function(t,e){var s=e.credentials;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jn.login(s);case 3:return a=e.sent,t.commit({type:"setLoggedinUser",user:a}),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(user),console.log("error - unautorized"),new Error;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()},signup:function(t,e){var s=e.credentials;return Object(h["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,jn.signup(s);case 2:a=e.sent;try{t.commit({type:"setLoggedinUser",user:a})}catch(n){console.log("error - not singed up")}case 4:case"end":return e.stop()}}),e)})))()},updateUser:function(t,e){var s=e.user;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jn.update(s);case 2:return t.abrupt("return",s);case 3:case"end":return t.stop()}}),t)})))()},loadUsers:function(t,e){var s=e.searchStr,a=void 0===s?"":s;return Object(h["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jn.query(a);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})))()},logout:function(t){return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jn.logout();case 2:case"end":return t.stop()}}),t)})))()}}};a["default"].use(Cn["a"]);var Fn=new Cn["a"].Store({strict:!0,modules:{boardStore:wn,userStore:qn}}),Hn=s("c1df"),Wn=s.n(Hn);a["default"].filter("capitalize",(function(t){return t[0].toUpperCase()+t.slice(1)})),a["default"].filter("dateAgo",(function(t){return Wn()(new Date(t)).fromNow()})),a["default"].filter("minimalDate",(function(t){return Wn()(new Date(t)).format("MMM D")}));var Gn=s("5c96"),Zn=s.n(Gn),Kn=s("b2d6"),Vn=s.n(Kn);s("0fae"),s("b7e3");a["default"].config.productionTip=!1,a["default"].use(Zn.a,{locale:Vn.a}),new a["default"]({router:bn,store:Fn,render:function(t){return t(_)}}).$mount("#app")},"57b6":function(t,e,s){t.exports=s.p+"img/3.ee723115.jpg"},"5e54":function(t,e,s){t.exports=s.p+"img/remove-btn.81ab16f0.webp"},"628b":function(t,e,s){t.exports=s.p+"img/8.5da9bc41.jpg"},"62ed":function(t,e,s){t.exports=s.p+"img/feature2.fca4a7ae.png"},6823:function(t,e,s){t.exports=s.p+"img/6.0e4aa3ac.jpg"},"7d3a":function(t,e,s){t.exports=s.p+"img/0.79f11157.jpg"},8624:function(t,e,s){t.exports=s.p+"img/1.dcc8d602.jpg"},"88fd":function(t,e,s){t.exports=s.p+"img/14.585f6a7d.jpg"},"8ce8":function(t,e,s){t.exports=s.p+"img/7.c0957a41.jpg"},"8f78":function(t,e,s){t.exports=s.p+"img/12.c0d81749.jpg"},"92e8":function(t,e,s){t.exports=s.p+"img/tasky.f37fea7e.png"},"974a":function(t,e,s){t.exports=s.p+"img/2.9adfce95.jpg"},a9c4:function(t,e,s){t.exports=s.p+"img/bg-color.e65f358c.jpg"},b1b2:function(t,e,s){t.exports=s.p+"img/feature1.9a7b4f5e.png"},b7e3:function(t,e,s){},b8c5:function(t,e,s){t.exports=s.p+"img/11.f9e755e9.jpg"},c5f4:function(t,e,s){t.exports=s.p+"img/9.6db1bf95.jpg"},cdd5:function(t,e,s){t.exports=s.p+"img/4.fad12eb3.jpg"},daea:function(t,e,s){t.exports=s.p+"img/feature3.03ed4f7c.png"},f23f:function(t,e,s){t.exports=s.p+"img/10.8c38f3d1.jpg"},f535:function(t,e,s){t.exports=s.p+"img/tasky-blue.9bc32ff3.png"}});
//# sourceMappingURL=app.589aab9b.js.map